import{a as $a,b as Ao}from"https://app.gitbook.com/public/app/chunks/chunk-CHFVBMZY.min.js";import{b as Io,c as Lt}from"https://app.gitbook.com/public/app/chunks/chunk-RNVLVHI5.min.js";import{a as Pc}from"https://app.gitbook.com/public/app/chunks/chunk-XUEJXK3R.min.js";import{a as kr}from"https://app.gitbook.com/public/app/chunks/chunk-MAARDLIQ.min.js";import{$b as Zs,$c as Dr,$d as Nc,A as ts,Ab as di,Ad as Ec,Bb as ks,Bd as Oc,C as os,Ca as fs,Cb as Ls,Eb as Vs,Ed as Ic,Fb as Hs,Fc as Or,Gb as Fs,Gc as pt,Gd as mi,Hb as L,Ic as Zt,Jc as Ir,Ka as ps,Kc as pc,L as rs,La as ms,Lc as mc,M as fr,Ma as li,Mb as Rr,N as pr,Nb as Xs,Ob as Ys,Od as _c,Pb as Tr,Pc as hc,Rd as Lc,Sc as gc,T as ns,Tc as yc,Td as Ep,Uc as vc,Vc as _r,Wc as Lr,Wd as Dc,Xb as $s,Xc as Mo,Xd as hi,Y as Tt,Zc as mt,Zd as Ac,_c as No,_d as Mc,a as Ke,ad as Ar,ae as Vc,b as ja,ba as is,bb as hs,bc as Js,bd as bc,be as Jt,c as Be,cb as ui,cc as Qs,d as $e,da as as,de as Hc,e as dr,ea as xt,ec,ee as Fc,f as Ga,fa as kt,fc as tc,fe as oe,gc as oc,gd as Je,ge as Bc,ha as mr,hb as gs,hd as Sc,he as gi,ib as ys,ic as rc,id as wc,jb as vs,jc as nc,jd as Cc,k as qa,kc as Do,kd as Rc,l as Ya,lc as ic,ld as F,m as Oo,mc as ac,n as Ka,nc as sc,o as Za,oa as ds,oc as cc,p as Ja,pc as lc,qc as uc,rb as gr,rc as dc,rd as ht,sb as Ss,sd as Tc,tc as fc,td as _t,uc as xr,ud as Mr,v as es,vb as ws,wb as Cs,wd as pi,xb as We,xd as xc,yc as Er,zb as yr,zd as kc}from"https://app.gitbook.com/public/app/chunks/chunk-GJS2XPJX.min.js";import{b as Qa}from"https://app.gitbook.com/public/app/chunks/chunk-5FPUWM4W.min.js";import{c as Xa}from"https://app.gitbook.com/public/app/chunks/chunk-QMIVYOLK.min.js";import{G as us,w as ss,x as cs,y as ls}from"https://app.gitbook.com/public/app/chunks/chunk-KJSXQ35T.min.js";import"https://app.gitbook.com/public/app/chunks/chunk-GSNZ3HIS.min.js";import{a as Ve}from"https://app.gitbook.com/public/app/chunks/chunk-QRSAFTZS.min.js";import{B as z,C as Ws,D as ut,E as dt,F as ft,I as Cr,J as Us,K as zs,L as kp,Q as js,R as $t,S as Gs,U as Pr,W as qs,Z as pe,_ as Ks,b as lt,g as Is,h as Q,i as _s,j as It,k as Ds,l as xp,o as Sr,q as Yt,r as As,s as Ms,t as it,u as Lo,v as Ns,w as Kt,z as wr}from"https://app.gitbook.com/public/app/chunks/chunk-LJYC5ISU.min.js";import{$ as f,A as J,Aa as at,Ba as Bs,C as Pt,D as ai,G as Ne,H as za,I as si,K as ur,L as X,O as bs,P as hr,T as _o,U as Ze,Z as rt,_,aa as h,ba as Rs,da as Ps,ga as Et,ha as Ts,ia as fi,k as de,la as xs,n as x,na as Ot,pa as Es,qa as Os,ra as vr,sa as br,t as y,ta as E,v as lr,va as nt,wa as Y,xa as A,z as Ua}from"https://app.gitbook.com/public/app/chunks/chunk-SHRJESC7.min.js";import"https://app.gitbook.com/public/app/chunks/chunk-P6BGULCJ.min.js";import"https://app.gitbook.com/public/app/chunks/chunk-ZAHVFBAE.min.js";import{a as Xt,b as ci,c as Tp}from"https://app.gitbook.com/public/app/chunks/chunk-KAGA7YND.min.js";import{c as Me,e as T,f as cr,l as c}from"https://app.gitbook.com/public/app/chunks/chunk-OAKVUAEN.min.js";var wl=Me(Pi=>{c();Object.defineProperty(Pi,"__esModule",{value:!0});var om=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},rm="src/index.js",nm=function(){function e(o,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}return function(o,t,r){return t&&e(o.prototype,t),r&&e(o,r),o}}(),bl=x(),im=sm(bl),am=(X(),cr(ur));function sm(e){return e&&e.__esModule?e:{default:e}}function cm(e,o){var t={};for(var r in e)o.indexOf(r)>=0||!Object.prototype.hasOwnProperty.call(e,r)||(t[r]=e[r]);return t}function lm(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function vl(e,o){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:e}function um(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(e,o):e.__proto__=o)}var Sl=function(e){um(o,e);function o(){var t,r,n,i;lm(this,o);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return i=(r=(n=vl(this,(t=o.__proto__||Object.getPrototypeOf(o)).call.apply(t,[this].concat(s))),n),n.state={width:1,height:1},n.measure=function(u){var d=u.nativeEvent;return n.setState({width:d.layout.width,height:d.layout.height})},n.getAngle=function(){if(n.props.useAngle)return n.props.angle+"deg";var u=Math.atan2(n.state.width*(n.props.end.y-n.props.start.y),n.state.height*(n.props.end.x-n.props.start.x))+Math.PI/2;return u+"rad"},n.getColors=function(){return n.props.colors.map(function(u,d){var p=n.props.locations[d],m="";return p&&(m=" "+p*100+"%"),u+m}).join(",")},r),vl(n,i)}return nm(o,[{key:"render",value:function(){var r=this.props,n=r.start,i=r.end,a=r.colors,s=r.locations,l=r.useAngle,u=r.angleCenter,d=r.angle,p=r.style,m=r.children,b=cm(r,["start","end","colors","locations","useAngle","angleCenter","angle","style","children"]);return im.default.createElement(am.View,om({},b,{style:[p,{backgroundImage:"linear-gradient("+this.getAngle()+","+this.getColors()+")"}],onLayout:this.measure,__source:{fileName:rm,lineNumber:72}}),m)}}]),o}(bl.PureComponent);Sl.defaultProps={start:{x:.5,y:0},end:{x:.5,y:1},locations:[],colors:[],useAngle:!1,angle:0};Pi.default=Sl});var Fl=Me(Yr=>{"use strict";c();var bm=x(),Sm=Symbol.for("react.element"),wm=Symbol.for("react.fragment"),Cm=Object.prototype.hasOwnProperty,Rm=bm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pm={key:!0,ref:!0,__self:!0,__source:!0};function Hl(e,o,t){var r,n={},i=null,a=null;t!==void 0&&(i=""+t),o.key!==void 0&&(i=""+o.key),o.ref!==void 0&&(a=o.ref);for(r in o)Cm.call(o,r)&&!Pm.hasOwnProperty(r)&&(n[r]=o[r]);if(e&&e.defaultProps)for(r in o=e.defaultProps,o)n[r]===void 0&&(n[r]=o[r]);return{$$typeof:Sm,type:e,key:i,ref:a,props:n,_owner:Rm.current}}Yr.Fragment=wm;Yr.jsx=Hl;Yr.jsxs=Hl});var Wl=Me((pw,Bl)=>{"use strict";c();Bl.exports=Fl()});var ld=Me((AP,fn)=>{c();var Uu,zu,ju,Gu,qu,Xu,Yu,Ku,$u,un,Vi,Zu,Ju,Qu,fo,ed,td,od,rd,nd,id,ad,sd,cd,dn;(function(e){var o=typeof window=="object"?window:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(r){e(t(o,t(r)))}):typeof fn=="object"&&typeof fn.exports=="object"?e(t(o,t(fn.exports))):e(t(o));function t(r,n){return r!==o&&(typeof Object.create=="function"?Object.defineProperty(r,"__esModule",{value:!0}):r.__esModule=!0),function(i,a){return r[i]=n?n(i,a):a}}})(function(e){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])};Uu=function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");o(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)},zu=Object.assign||function(r){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},ju=function(r,n){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&n.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(r);s<a.length;s++)n.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(r,a[s])&&(i[a[s]]=r[a[s]]);return i},Gu=function(r,n,i,a){var s=arguments.length,l=s<3?n:a===null?a=Object.getOwnPropertyDescriptor(n,i):a,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(r,n,i,a);else for(var d=r.length-1;d>=0;d--)(u=r[d])&&(l=(s<3?u(l):s>3?u(n,i,l):u(n,i))||l);return s>3&&l&&Object.defineProperty(n,i,l),l},qu=function(r,n){return function(i,a){n(i,a,r)}},Xu=function(r,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,n)},Yu=function(r,n,i,a){function s(l){return l instanceof i?l:new i(function(u){u(l)})}return new(i||(i=Promise))(function(l,u){function d(b){try{m(a.next(b))}catch(w){u(w)}}function p(b){try{m(a.throw(b))}catch(w){u(w)}}function m(b){b.done?l(b.value):s(b.value).then(d,p)}m((a=a.apply(r,n||[])).next())})},Ku=function(r,n){var i={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},a,s,l,u;return u={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(m){return function(b){return p([m,b])}}function p(m){if(a)throw new TypeError("Generator is already executing.");for(;i;)try{if(a=1,s&&(l=m[0]&2?s.return:m[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,m[1])).done)return l;switch(s=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,s=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(l=i.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){i.label=m[1];break}if(m[0]===6&&i.label<l[1]){i.label=l[1],l=m;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(m);break}l[2]&&i.ops.pop(),i.trys.pop();continue}m=n.call(r,i)}catch(b){m=[6,b],s=0}finally{a=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},$u=function(r,n){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(n,i)&&dn(n,r,i)},dn=Object.create?function(r,n,i,a){a===void 0&&(a=i);var s=Object.getOwnPropertyDescriptor(n,i);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[i]}}),Object.defineProperty(r,a,s)}:function(r,n,i,a){a===void 0&&(a=i),r[a]=n[i]},un=function(r){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&r[n],a=0;if(i)return i.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},Vi=function(r,n){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var a=i.call(r),s,l=[],u;try{for(;(n===void 0||n-- >0)&&!(s=a.next()).done;)l.push(s.value)}catch(d){u={error:d}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(u)throw u.error}}return l},Zu=function(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(Vi(arguments[n]));return r},Ju=function(){for(var r=0,n=0,i=arguments.length;n<i;n++)r+=arguments[n].length;for(var a=Array(r),s=0,n=0;n<i;n++)for(var l=arguments[n],u=0,d=l.length;u<d;u++,s++)a[s]=l[u];return a},Qu=function(r,n,i){if(i||arguments.length===2)for(var a=0,s=n.length,l;a<s;a++)(l||!(a in n))&&(l||(l=Array.prototype.slice.call(n,0,a)),l[a]=n[a]);return r.concat(l||Array.prototype.slice.call(n))},fo=function(r){return this instanceof fo?(this.v=r,this):new fo(r)},ed=function(r,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=i.apply(r,n||[]),s,l=[];return s={},u("next"),u("throw"),u("return"),s[Symbol.asyncIterator]=function(){return this},s;function u(g){a[g]&&(s[g]=function(C){return new Promise(function(v,P){l.push([g,C,v,P])>1||d(g,C)})})}function d(g,C){try{p(a[g](C))}catch(v){w(l[0][3],v)}}function p(g){g.value instanceof fo?Promise.resolve(g.value.v).then(m,b):w(l[0][2],g)}function m(g){d("next",g)}function b(g){d("throw",g)}function w(g,C){g(C),l.shift(),l.length&&d(l[0][0],l[0][1])}},td=function(r){var n,i;return n={},a("next"),a("throw",function(s){throw s}),a("return"),n[Symbol.iterator]=function(){return this},n;function a(s,l){n[s]=r[s]?function(u){return(i=!i)?{value:fo(r[s](u)),done:s==="return"}:l?l(u):u}:l}},od=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],i;return n?n.call(r):(r=typeof un=="function"?un(r):r[Symbol.iterator](),i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i);function a(l){i[l]=r[l]&&function(u){return new Promise(function(d,p){u=r[l](u),s(d,p,u.done,u.value)})}}function s(l,u,d,p){Promise.resolve(p).then(function(m){l({value:m,done:d})},u)}},rd=function(r,n){return Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,r};var t=Object.create?function(r,n){Object.defineProperty(r,"default",{enumerable:!0,value:n})}:function(r,n){r.default=n};nd=function(r){if(r&&r.__esModule)return r;var n={};if(r!=null)for(var i in r)i!=="default"&&Object.prototype.hasOwnProperty.call(r,i)&&dn(n,r,i);return t(n,r),n},id=function(r){return r&&r.__esModule?r:{default:r}},ad=function(r,n,i,a){if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?r!==n||!a:!n.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?a:i==="a"?a.call(r):a?a.value:n.get(r)},sd=function(r,n,i,a,s){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?r!==n||!s:!n.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?s.call(r,i):s?s.value=i:n.set(r,i),i},cd=function(r,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?n===r:r.has(n)},e("__extends",Uu),e("__assign",zu),e("__rest",ju),e("__decorate",Gu),e("__param",qu),e("__metadata",Xu),e("__awaiter",Yu),e("__generator",Ku),e("__exportStar",$u),e("__createBinding",dn),e("__values",un),e("__read",Vi),e("__spread",Zu),e("__spreadArrays",Ju),e("__spreadArray",Qu),e("__await",fo),e("__asyncGenerator",ed),e("__asyncDelegator",td),e("__asyncValues",od),e("__makeTemplateObject",rd),e("__importStar",nd),e("__importDefault",id),e("__classPrivateFieldGet",ad),e("__classPrivateFieldSet",sd),e("__classPrivateFieldIn",cd)})});var hf=Me(Sa=>{"use strict";c();Object.defineProperty(Sa,"__esModule",{value:!0});var ug={justifyContent:"center",alignItems:"center",overflow:"hidden",backgroundColor:"transparent"};Sa.default={container:ug}});var gf=Me(Dn=>{"use strict";c();Object.defineProperty(Dn,"__esModule",{value:!0});var dg=function(){function e(){this.cropWidth=100,this.cropHeight=100,this.imageWidth=100,this.imageHeight=100,this.panToMove=!0,this.pinchToZoom=!0,this.enableDoubleClickZoom=!0,this.clickDistance=10,this.maxOverflow=100,this.longPressTime=800,this.doubleClickInterval=175,this.style={},this.swipeDownThreshold=230,this.enableSwipeDown=!1,this.enableCenterFocus=!0,this.minScale=.6,this.maxScale=10,this.onClick=function(){},this.onDoubleClick=function(){},this.onLongPress=function(){},this.horizontalOuterRangeOffset=function(){},this.onDragLeft=function(){},this.responderRelease=function(){},this.onMove=function(){},this.layoutChange=function(){},this.onSwipeDown=function(){}}return e}();Dn.Props=dg;var fg=function(){function e(){this.centerX=.5,this.centerY=.5}return e}();Dn.State=fg});var vf=Me(zt=>{"use strict";c();var pg=zt&&zt.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,t){o.__proto__=t}||function(o,t){for(var r in t)t.hasOwnProperty(r)&&(o[r]=t[r])};return function(o,t){e(o,t);function r(){this.constructor=o}o.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mg=zt&&zt.__assign||Object.assign||function(e){for(var o,t=1,r=arguments.length;t<r;t++){o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e};Object.defineProperty(zt,"__esModule",{value:!0});var An=x(),le=(X(),cr(ur)),hg=hf(),yf=gf(),gg=function(e){pg(o,e);function o(){var t=e!==null&&e.apply(this,arguments)||this;return t.state=new yf.State,t.lastPositionX=null,t.positionX=0,t.animatedPositionX=new le.Animated.Value(0),t.lastPositionY=null,t.positionY=0,t.animatedPositionY=new le.Animated.Value(0),t.scale=1,t.animatedScale=new le.Animated.Value(1),t.zoomLastDistance=null,t.zoomCurrentDistance=0,t.imagePanResponder=null,t.lastTouchStartTime=0,t.horizontalWholeOuterCounter=0,t.swipeDownOffset=0,t.horizontalWholeCounter=0,t.verticalWholeCounter=0,t.centerDiffX=0,t.centerDiffY=0,t.lastClickTime=0,t.doubleClickX=0,t.doubleClickY=0,t.isDoubleClick=!1,t.isLongPress=!1,t.isHorizontalWrap=!1,t.resetScale=function(){t.positionX=0,t.positionY=0,t.scale=1,t.animatedScale.setValue(1)},t.panResponderReleaseResolve=function(){if(t.props.enableSwipeDown&&t.props.swipeDownThreshold&&t.swipeDownOffset>t.props.swipeDownThreshold){t.props.onSwipeDown&&t.props.onSwipeDown();return}if(t.props.enableCenterFocus&&t.scale<1&&(t.scale=1,le.Animated.timing(t.animatedScale,{toValue:t.scale,duration:100}).start()),t.props.imageWidth*t.scale<=t.props.cropWidth&&(t.positionX=0,le.Animated.timing(t.animatedPositionX,{toValue:t.positionX,duration:100}).start()),t.props.imageHeight*t.scale<=t.props.cropHeight&&(t.positionY=0,le.Animated.timing(t.animatedPositionY,{toValue:t.positionY,duration:100}).start()),t.props.imageHeight*t.scale>t.props.cropHeight){var r=(t.props.imageHeight*t.scale-t.props.cropHeight)/2/t.scale;t.positionY<-r?t.positionY=-r:t.positionY>r&&(t.positionY=r),le.Animated.timing(t.animatedPositionY,{toValue:t.positionY,duration:100}).start()}if(t.props.imageWidth*t.scale>t.props.cropWidth){var n=(t.props.imageWidth*t.scale-t.props.cropWidth)/2/t.scale;t.positionX<-n?t.positionX=-n:t.positionX>n&&(t.positionX=n),le.Animated.timing(t.animatedPositionX,{toValue:t.positionX,duration:100}).start()}t.props.enableCenterFocus&&t.scale===1&&(t.positionX=0,t.positionY=0,le.Animated.timing(t.animatedPositionX,{toValue:t.positionX,duration:100}).start(),le.Animated.timing(t.animatedPositionY,{toValue:t.positionY,duration:100}).start()),t.horizontalWholeOuterCounter=0,t.swipeDownOffset=0,t.imageDidMove("onPanResponderRelease")},t}return o.prototype.componentWillMount=function(){var t=this;this.imagePanResponder=le.PanResponder.create({onStartShouldSetPanResponder:function(){return!0},onPanResponderTerminationRequest:function(){return!1},onPanResponderGrant:function(r){if(t.lastPositionX=null,t.lastPositionY=null,t.zoomLastDistance=null,t.horizontalWholeCounter=0,t.verticalWholeCounter=0,t.lastTouchStartTime=new Date().getTime(),t.isDoubleClick=!1,t.isLongPress=!1,t.isHorizontalWrap=!1,t.singleClickTimeout&&clearTimeout(t.singleClickTimeout),r.nativeEvent.changedTouches.length>1){var n=(r.nativeEvent.changedTouches[0].pageX+r.nativeEvent.changedTouches[1].pageX)/2;t.centerDiffX=n-t.props.cropWidth/2;var i=(r.nativeEvent.changedTouches[0].pageY+r.nativeEvent.changedTouches[1].pageY)/2;t.centerDiffY=i-t.props.cropHeight/2}if(t.longPressTimeout&&clearTimeout(t.longPressTimeout),t.longPressTimeout=setTimeout(function(){t.isLongPress=!0,t.props.onLongPress&&t.props.onLongPress()},t.props.longPressTime),r.nativeEvent.changedTouches.length<=1)if(new Date().getTime()-t.lastClickTime<(t.props.doubleClickInterval||0)){if(t.lastClickTime=0,t.props.onDoubleClick&&t.props.onDoubleClick(),clearTimeout(t.longPressTimeout),t.doubleClickX=r.nativeEvent.changedTouches[0].pageX,t.doubleClickY=r.nativeEvent.changedTouches[0].pageY,t.isDoubleClick=!0,t.props.enableDoubleClickZoom){if(t.scale>1||t.scale<1)t.scale=1,t.positionX=0,t.positionY=0;else{var a=t.scale;t.scale=2;var s=t.scale-a;t.positionX=(t.props.cropWidth/2-t.doubleClickX)*s/t.scale,t.positionY=(t.props.cropHeight/2-t.doubleClickY)*s/t.scale}t.imageDidMove("centerOn"),le.Animated.parallel([le.Animated.timing(t.animatedScale,{toValue:t.scale,duration:100}),le.Animated.timing(t.animatedPositionX,{toValue:t.positionX,duration:100}),le.Animated.timing(t.animatedPositionY,{toValue:t.positionY,duration:100})]).start()}}else t.lastClickTime=new Date().getTime()},onPanResponderMove:function(r,n){if(!t.isDoubleClick){if(r.nativeEvent.changedTouches.length<=1){var i=n.dx-(t.lastPositionX||0);t.lastPositionX===null&&(i=0);var a=n.dy-(t.lastPositionY||0);if(t.lastPositionY===null&&(a=0),t.lastPositionX=n.dx,t.lastPositionY=n.dy,t.horizontalWholeCounter+=i,t.verticalWholeCounter+=a,(Math.abs(t.horizontalWholeCounter)>5||Math.abs(t.verticalWholeCounter)>5)&&clearTimeout(t.longPressTimeout),t.props.panToMove){if(t.swipeDownOffset===0){if(Math.abs(i)>Math.abs(a)&&(t.isHorizontalWrap=!0),t.props.imageWidth*t.scale>t.props.cropWidth){t.horizontalWholeOuterCounter>0?i<0?t.horizontalWholeOuterCounter>Math.abs(i)?(t.horizontalWholeOuterCounter+=i,i=0):(i+=t.horizontalWholeOuterCounter,t.horizontalWholeOuterCounter=0,t.props.horizontalOuterRangeOffset&&t.props.horizontalOuterRangeOffset(0)):t.horizontalWholeOuterCounter+=i:t.horizontalWholeOuterCounter<0&&(i>0?Math.abs(t.horizontalWholeOuterCounter)>i?(t.horizontalWholeOuterCounter+=i,i=0):(i+=t.horizontalWholeOuterCounter,t.horizontalWholeOuterCounter=0,t.props.horizontalOuterRangeOffset&&t.props.horizontalOuterRangeOffset(0)):t.horizontalWholeOuterCounter+=i),t.positionX+=i/t.scale;var s=(t.props.imageWidth*t.scale-t.props.cropWidth)/2/t.scale;t.positionX<-s?(t.positionX=-s,t.horizontalWholeOuterCounter+=-1/1e10):t.positionX>s&&(t.positionX=s,t.horizontalWholeOuterCounter+=1/1e10),t.animatedPositionX.setValue(t.positionX)}else t.horizontalWholeOuterCounter+=i;t.horizontalWholeOuterCounter>(t.props.maxOverflow||0)?t.horizontalWholeOuterCounter=t.props.maxOverflow||0:t.horizontalWholeOuterCounter<-(t.props.maxOverflow||0)&&(t.horizontalWholeOuterCounter=-(t.props.maxOverflow||0)),t.horizontalWholeOuterCounter!==0&&t.props.horizontalOuterRangeOffset&&t.props.horizontalOuterRangeOffset(t.horizontalWholeOuterCounter)}t.props.imageHeight*t.scale>t.props.cropHeight?(t.positionY+=a/t.scale,t.animatedPositionY.setValue(t.positionY)):t.props.enableSwipeDown&&!t.isHorizontalWrap&&(t.swipeDownOffset+=a,t.swipeDownOffset>0&&(t.positionY+=a/t.scale,t.animatedPositionY.setValue(t.positionY),t.scale=t.scale-a/1e3,t.animatedScale.setValue(t.scale)))}}else if(t.longPressTimeout&&clearTimeout(t.longPressTimeout),t.props.pinchToZoom){var l=void 0,u=void 0;r.nativeEvent.changedTouches[0].locationX>r.nativeEvent.changedTouches[1].locationX?(l=r.nativeEvent.changedTouches[1].pageX,u=r.nativeEvent.changedTouches[0].pageX):(l=r.nativeEvent.changedTouches[0].pageX,u=r.nativeEvent.changedTouches[1].pageX);var d=void 0,p=void 0;r.nativeEvent.changedTouches[0].locationY>r.nativeEvent.changedTouches[1].locationY?(d=r.nativeEvent.changedTouches[1].pageY,p=r.nativeEvent.changedTouches[0].pageY):(d=r.nativeEvent.changedTouches[0].pageY,p=r.nativeEvent.changedTouches[1].pageY);var m=u-l,b=p-d,w=Math.sqrt(m*m+b*b);if(t.zoomCurrentDistance=Number(w.toFixed(1)),t.zoomLastDistance!==null){var g=(t.zoomCurrentDistance-t.zoomLastDistance)/200,C=t.scale+g;C<(t.props.minScale||0)&&(C=t.props.minScale||0),C>(t.props.maxScale||0)&&(C=t.props.maxScale||0);var v=t.scale;t.scale=C,t.animatedScale.setValue(t.scale);var P=t.scale-v;t.positionX-=t.centerDiffX*P/t.scale,t.positionY-=t.centerDiffY*P/t.scale,t.animatedPositionX.setValue(t.positionX),t.animatedPositionY.setValue(t.positionY)}t.zoomLastDistance=t.zoomCurrentDistance}t.imageDidMove("onPanResponderMove")}},onPanResponderRelease:function(r,n){if(t.longPressTimeout&&clearTimeout(t.longPressTimeout),!t.isDoubleClick&&!t.isLongPress){var i=Math.sqrt(n.dx*n.dx+n.dy*n.dy),a=r.nativeEvent,s=a.locationX,l=a.locationY,u=a.pageX,d=a.pageY;r.nativeEvent.changedTouches.length===1&&i<(t.props.clickDistance||0)?t.singleClickTimeout=setTimeout(function(){t.props.onClick&&t.props.onClick({locationX:s,locationY:l,pageX:u,pageY:d})},t.props.doubleClickInterval):(t.props.responderRelease&&t.props.responderRelease(n.vx,t.scale),t.panResponderReleaseResolve())}},onPanResponderTerminate:function(){}})},o.prototype.componentDidMount=function(){this.props.centerOn&&this.centerOn(this.props.centerOn)},o.prototype.componentWillReceiveProps=function(t){(t.centerOn&&!this.props.centerOn||t.centerOn&&this.props.centerOn&&this.didCenterOnChange(this.props.centerOn,t.centerOn))&&this.centerOn(t.centerOn)},o.prototype.imageDidMove=function(t){this.props.onMove&&this.props.onMove({type:t,positionX:this.positionX,positionY:this.positionY,scale:this.scale,zoomCurrentDistance:this.zoomCurrentDistance})},o.prototype.didCenterOnChange=function(t,r){return t.x!==r.x||t.y!==r.y||t.scale!==r.scale},o.prototype.centerOn=function(t){var r=this;this.positionX=t.x,this.positionY=t.y,this.scale=t.scale;var n=t.duration||300;le.Animated.parallel([le.Animated.timing(this.animatedScale,{toValue:this.scale,duration:n}),le.Animated.timing(this.animatedPositionX,{toValue:this.positionX,duration:n}),le.Animated.timing(this.animatedPositionY,{toValue:this.positionY,duration:n})]).start(function(){r.imageDidMove("centerOn")})},o.prototype.handleLayout=function(t){this.props.layoutChange&&this.props.layoutChange(t)},o.prototype.reset=function(){this.scale=1,this.animatedScale.setValue(this.scale),this.positionX=0,this.animatedPositionX.setValue(this.positionX),this.positionY=0,this.animatedPositionY.setValue(this.positionY)},o.prototype.render=function(){var t={transform:[{scale:this.animatedScale},{translateX:this.animatedPositionX},{translateY:this.animatedPositionY}]},r=le.StyleSheet.flatten(this.props.style);return An.createElement(le.View,{style:mg({},hg.default.container,r,{width:this.props.cropWidth,height:this.props.cropHeight}),...this.imagePanResponder.panHandlers},An.createElement(le.Animated.View,{style:t,renderToHardwareTextureAndroid:!0},An.createElement(le.View,{onLayout:this.handleLayout.bind(this),style:{width:this.props.imageWidth,height:this.props.imageHeight}},this.props.children)))},o.defaultProps=new yf.Props,o}(An.Component);zt.default=gg});var bf=Me(wa=>{"use strict";c();Object.defineProperty(wa,"__esModule",{value:!0});var yg=vf();wa.default=yg.default});var Ca=Me(Mn=>{"use strict";c();Object.defineProperty(Mn,"__esModule",{value:!0});Mn.default=function(e,o,t){return{modalContainer:{backgroundColor:t,justifyContent:"center",alignItems:"center",overflow:"hidden"},watchOrigin:{position:"absolute",width:e,bottom:20,justifyContent:"center",alignItems:"center"},watchOriginTouchable:{paddingLeft:10,paddingRight:10,paddingTop:5,paddingBottom:5,borderRadius:30,borderColor:"white",borderWidth:.5,backgroundColor:"rgba(0, 0, 0, 0.1)"},watchOriginText:{color:"white",backgroundColor:"transparent"},imageStyle:{},container:{backgroundColor:t},moveBox:{flexDirection:"row",alignItems:"center"},menuContainer:{position:"absolute",width:e,height:o,left:0,bottom:0,zIndex:12},menuShadow:{position:"absolute",width:e,height:o,backgroundColor:"black",left:0,bottom:0,opacity:.2,zIndex:10},menuContent:{position:"absolute",width:e,left:0,bottom:0,zIndex:11},operateContainer:{justifyContent:"center",alignItems:"center",backgroundColor:"white",height:40,borderBottomColor:"#ccc",borderBottomWidth:1},operateText:{color:"#333"},loadingTouchable:{width:e,height:o},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center"},arrowLeftContainer:{position:"absolute",top:0,bottom:0,left:0,justifyContent:"center",zIndex:13},arrowRightContainer:{position:"absolute",top:0,bottom:0,right:0,justifyContent:"center",zIndex:13}}};Mn.simpleStyle={count:{position:"absolute",left:0,right:0,top:38,zIndex:13,justifyContent:"center",alignItems:"center",backgroundColor:"transparent"},countText:{color:"white",fontSize:16,backgroundColor:"transparent",textShadowColor:"rgba(0, 0, 0, 0.3)",textShadowOffset:{width:0,height:.5},textShadowRadius:0}}});var Ta=Me(Nn=>{"use strict";c();Object.defineProperty(Nn,"__esModule",{value:!0});var Ra=x(),Pa=(X(),cr(ur)),Sf=Ca(),vg=function(){function e(){this.show=!1,this.imageUrls=[],this.flipThreshold=80,this.maxOverflow=300,this.index=0,this.failImageSource=void 0,this.backgroundColor="black",this.footerContainerStyle={},this.menuContext={saveToLocal:"save to the album",cancel:"cancel"},this.saveToLocalByLongPress=!0,this.enableImageZoom=!0,this.style={},this.enableSwipeDown=!1,this.enablePreload=!1,this.pageAnimateTime=100,this.onLongPress=function(){},this.onClick=function(){},this.onDoubleClick=function(){},this.onSave=function(){},this.onMove=function(){},this.renderHeader=function(){return null},this.renderFooter=function(){return null},this.renderIndicator=function(o,t){return Ra.createElement(Pa.View,{style:Sf.simpleStyle.count},Ra.createElement(Pa.Text,{style:Sf.simpleStyle.countText},o+"/"+t))},this.renderImage=function(o){return Ra.createElement(Pa.Image,o)},this.renderArrowLeft=function(){return null},this.renderArrowRight=function(){return null},this.onShowModal=function(){},this.onCancel=function(){},this.onSwipeDown=function(){},this.loadingRender=function(){return null},this.onSaveToCamera=function(){},this.onChange=function(){}}return e}();Nn.Props=vg;var bg=function(){function e(){this.show=!1,this.currentShowIndex=0,this.prevIndexProp=0,this.imageLoaded=!1,this.imageSizes=[],this.isShowMenu=!1}return e}();Nn.State=bg});var Rf=Me(st=>{"use strict";c();var Sg=st&&st.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,t){o.__proto__=t}||function(o,t){for(var r in t)t.hasOwnProperty(r)&&(o[r]=t[r])};return function(o,t){e(o,t);function r(){this.constructor=o}o.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jt=st&&st.__assign||Object.assign||function(e){for(var o,t=1,r=arguments.length;t<r;t++){o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},wg=st&&st.__rest||function(e,o){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&o.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)o.indexOf(r[n])<0&&(t[r[n]]=e[r[n]]);return t};Object.defineProperty(st,"__esModule",{value:!0});var Z=x(),H=(X(),cr(ur)),wf=bf(),Cf=Ca(),xa=Ta(),Cg=function(e){Sg(o,e);function o(){var t=e!==null&&e.apply(this,arguments)||this;return t.state=new xa.State,t.fadeAnim=new H.Animated.Value(0),t.standardPositionX=0,t.positionXNumber=0,t.positionX=new H.Animated.Value(0),t.width=0,t.height=0,t.styles=Cf.default(0,0,"transparent"),t.hasLayout=!1,t.loadedIndex=new Map,t.handleLongPressWithIndex=new Map,t.imageRefs=[],t.resetImageByIndex=function(r){t.imageRefs[r]&&t.imageRefs[r].reset()},t.preloadImage=function(r){r<t.state.imageSizes.length&&t.loadImage(r+1)},t.handleHorizontalOuterRangeOffset=function(r){r===void 0&&(r=0),t.positionXNumber=t.standardPositionX+r,t.positionX.setValue(t.positionXNumber);var n=H.I18nManager.isRTL?-r:r;n<0?(t.state.currentShowIndex||0<t.props.imageUrls.length-1)&&t.loadImage((t.state.currentShowIndex||0)+1):n>0&&(t.state.currentShowIndex||0>0)&&t.loadImage((t.state.currentShowIndex||0)-1)},t.handleResponderRelease=function(r){r===void 0&&(r=0);var n=H.I18nManager.isRTL?-r:r,i=H.I18nManager.isRTL?t.positionXNumber-t.standardPositionX<-(t.props.flipThreshold||0):t.positionXNumber-t.standardPositionX>(t.props.flipThreshold||0),a=H.I18nManager.isRTL?t.positionXNumber-t.standardPositionX>(t.props.flipThreshold||0):t.positionXNumber-t.standardPositionX<-(t.props.flipThreshold||0);if(n>.7){t.goBack.call(t),(t.state.currentShowIndex||0>0)&&t.loadImage((t.state.currentShowIndex||0)-1);return}else if(n<-.7){t.goNext.call(t),(t.state.currentShowIndex||0<t.props.imageUrls.length-1)&&t.loadImage((t.state.currentShowIndex||0)+1);return}if(i)t.goBack.call(t);else if(a){t.goNext.call(t);return}else{t.resetPosition.call(t);return}},t.goBack=function(){if(t.state.currentShowIndex===0){t.resetPosition.call(t);return}t.positionXNumber=H.I18nManager.isRTL?t.standardPositionX-t.width:t.standardPositionX+t.width,t.standardPositionX=t.positionXNumber,H.Animated.timing(t.positionX,{toValue:t.positionXNumber,duration:t.props.pageAnimateTime}).start();var r=(t.state.currentShowIndex||0)-1;t.setState({currentShowIndex:r},function(){t.props.onChange&&t.props.onChange(t.state.currentShowIndex)})},t.goNext=function(){if(t.state.currentShowIndex===t.props.imageUrls.length-1){t.resetPosition.call(t);return}t.positionXNumber=H.I18nManager.isRTL?t.standardPositionX+t.width:t.standardPositionX-t.width,t.standardPositionX=t.positionXNumber,H.Animated.timing(t.positionX,{toValue:t.positionXNumber,duration:t.props.pageAnimateTime}).start();var r=(t.state.currentShowIndex||0)+1;t.setState({currentShowIndex:r},function(){t.props.onChange&&t.props.onChange(t.state.currentShowIndex)})},t.handleLongPress=function(r){t.props.saveToLocalByLongPress&&t.setState({isShowMenu:!0}),t.props.onLongPress&&t.props.onLongPress(r)},t.handleClick=function(){t.props.onClick&&t.props.onClick(t.handleCancel,t.state.currentShowIndex)},t.handleDoubleClick=function(){t.props.onDoubleClick&&t.props.onDoubleClick(t.handleCancel)},t.handleCancel=function(){t.hasLayout=!1,t.props.onCancel&&t.props.onCancel()},t.handleLayout=function(r){r.nativeEvent.layout.width!==t.width&&(t.hasLayout=!0,t.width=r.nativeEvent.layout.width,t.height=r.nativeEvent.layout.height,t.styles=Cf.default(t.width,t.height,t.props.backgroundColor||"transparent"),t.forceUpdate(),t.jumpToCurrentImage())},t.saveToLocal=function(){t.props.onSave?t.props.onSave(t.props.imageUrls[t.state.currentShowIndex||0].url):(H.CameraRoll.saveToCameraRoll(t.props.imageUrls[t.state.currentShowIndex||0].url),t.props.onSaveToCamera(t.state.currentShowIndex)),t.setState({isShowMenu:!1})},t.handleLeaveMenu=function(){t.setState({isShowMenu:!1})},t.handleSwipeDown=function(){t.props.onSwipeDown&&t.props.onSwipeDown(),t.handleCancel()},t}return o.prototype.componentDidMount=function(){this.init(this.props)},o.getDerivedStateFromProps=function(t,r){return t.index!==r.prevIndexProp?{currentShowIndex:t.index,prevIndexProp:t.index}:null},o.prototype.componentDidUpdate=function(t,r){t.index!==this.props.index&&(this.loadImage(this.props.index||0),this.jumpToCurrentImage(),H.Animated.timing(this.fadeAnim,{toValue:1,duration:200}).start())},o.prototype.init=function(t){var r=this;if(t.imageUrls.length===0)return this.fadeAnim.setValue(0),this.setState(new xa.State);var n=[];t.imageUrls.forEach(function(i){n.push({width:i.width||0,height:i.height||0,status:"loading"})}),this.setState({currentShowIndex:t.index,prevIndexProp:t.index||0,imageSizes:n},function(){r.loadImage(t.index||0),r.jumpToCurrentImage(),H.Animated.timing(r.fadeAnim,{toValue:1,duration:200}).start()})},o.prototype.jumpToCurrentImage=function(){this.positionXNumber=this.width*(this.state.currentShowIndex||0)*(H.I18nManager.isRTL?1:-1),this.standardPositionX=this.positionXNumber,this.positionX.setValue(this.positionXNumber)},o.prototype.loadImage=function(t){var r=this;if(!!this.state.imageSizes[t]&&!this.loadedIndex.has(t)){this.loadedIndex.set(t,!0);var n=this.props.imageUrls[t],i=jt({},this.state.imageSizes[t]),a=function(){if(!(r.state.imageSizes[t]&&r.state.imageSizes[t].status!=="loading")){var u=r.state.imageSizes.slice();u[t]=i,r.setState({imageSizes:u})}};if(this.state.imageSizes[t].status!=="success"){if(this.state.imageSizes[t].width>0&&this.state.imageSizes[t].height>0){i.status="success",a();return}var s=!1,l=!1;if((!n.url||n.url.startsWith("file:"))&&(l=!0),n.width&&n.height){this.props.enablePreload&&l===!1&&H.Image.prefetch(n.url),i.width=n.width,i.height=n.height,i.status="success",a();return}H.Image.getSize(n.url,function(u,d){i.width=u,i.height=d,i.status="success",a()},function(){try{var u=H.Image.resolveAssetSource(n.props.source);i.width=u.width,i.height=u.height,i.status="success",a()}catch(d){i.status="fail",a()}})}}},o.prototype.resetPosition=function(){this.positionXNumber=this.standardPositionX,H.Animated.timing(this.positionX,{toValue:this.standardPositionX,duration:150}).start()},o.prototype.getContent=function(){var t=this,r=this.width,n=this.height,i=this.props.imageUrls.map(function(a,s){if((t.state.currentShowIndex||0)>s+1||(t.state.currentShowIndex||0)<s-1)return Z.createElement(H.View,{key:s,style:{width:r,height:n}});t.handleLongPressWithIndex.has(s)||t.handleLongPressWithIndex.set(s,t.handleLongPress.bind(t,a));var l=t.state.imageSizes[s]&&t.state.imageSizes[s].width,u=t.state.imageSizes[s]&&t.state.imageSizes[s].height,d=t.state.imageSizes[s];if(!d||!d.status)return Z.createElement(H.View,{key:s,style:{width:r,height:n}});if(l>r){var p=r/l;l*=p,u*=p}if(u>n){var m=n/u;l*=m,u*=m}var b=function(w){var g=w.children,C=wg(w,["children"]);return Z.createElement(wf.default,{cropWidth:t.width,cropHeight:t.height,maxOverflow:t.props.maxOverflow,horizontalOuterRangeOffset:t.handleHorizontalOuterRangeOffset,responderRelease:t.handleResponderRelease,onMove:t.props.onMove,onLongPress:t.handleLongPressWithIndex.get(s),onClick:t.handleClick,onDoubleClick:t.handleDoubleClick,enableSwipeDown:t.props.enableSwipeDown,swipeDownThreshold:t.props.swipeDownThreshold,onSwipeDown:t.handleSwipeDown,pinchToZoom:t.props.enableImageZoom,enableDoubleClickZoom:t.props.enableImageZoom,doubleClickInterval:t.props.doubleClickInterval,...C},g)};switch(d.status){case"loading":return Z.createElement(b,{key:s,style:jt({},t.styles.modalContainer,t.styles.loadingContainer),imageWidth:r,imageHeight:n},Z.createElement(H.View,{style:t.styles.loadingContainer},t.props.loadingRender()));case"success":return a.props||(a.props={}),a.props.style||(a.props.style={}),a.props.style=jt({},t.styles.imageStyle,a.props.style,{width:l,height:u}),typeof a.props.source=="number"||(a.props.source||(a.props.source={}),a.props.source=jt({uri:a.url},a.props.source)),t.props.enablePreload&&t.preloadImage(t.state.currentShowIndex||0),Z.createElement(wf.default,{key:s,ref:function(w){return t.imageRefs[s]=w},cropWidth:t.width,cropHeight:t.height,maxOverflow:t.props.maxOverflow,horizontalOuterRangeOffset:t.handleHorizontalOuterRangeOffset,responderRelease:t.handleResponderRelease,onMove:t.props.onMove,onLongPress:t.handleLongPressWithIndex.get(s),onClick:t.handleClick,onDoubleClick:t.handleDoubleClick,imageWidth:l,imageHeight:u,enableSwipeDown:t.props.enableSwipeDown,swipeDownThreshold:t.props.swipeDownThreshold,onSwipeDown:t.handleSwipeDown,panToMove:!t.state.isShowMenu,pinchToZoom:t.props.enableImageZoom&&!t.state.isShowMenu,enableDoubleClickZoom:t.props.enableImageZoom&&!t.state.isShowMenu,doubleClickInterval:t.props.doubleClickInterval,minScale:t.props.minScale,maxScale:t.props.maxScale},t.props.renderImage(a.props));case"fail":return Z.createElement(b,{key:s,style:t.styles.modalContainer,imageWidth:t.props.failImageSource?t.props.failImageSource.width:r,imageHeight:t.props.failImageSource?t.props.failImageSource.height:n},t.props.failImageSource&&t.props.renderImage({source:{uri:t.props.failImageSource.url},style:{width:t.props.failImageSource.width,height:t.props.failImageSource.height}}))}});return Z.createElement(H.Animated.View,{style:{zIndex:9}},Z.createElement(H.Animated.View,{style:jt({},this.styles.container,{opacity:this.fadeAnim})},this.props.renderHeader(this.state.currentShowIndex),Z.createElement(H.View,{style:this.styles.arrowLeftContainer},Z.createElement(H.TouchableWithoutFeedback,{onPress:this.goBack},Z.createElement(H.View,null,this.props.renderArrowLeft()))),Z.createElement(H.View,{style:this.styles.arrowRightContainer},Z.createElement(H.TouchableWithoutFeedback,{onPress:this.goNext},Z.createElement(H.View,null,this.props.renderArrowRight()))),Z.createElement(H.Animated.View,{style:jt({},this.styles.moveBox,{transform:[{translateX:this.positionX}],width:this.width*this.props.imageUrls.length})},i),this.props.renderIndicator((this.state.currentShowIndex||0)+1,this.props.imageUrls.length),this.props.imageUrls[this.state.currentShowIndex||0]&&this.props.imageUrls[this.state.currentShowIndex||0].originSizeKb&&this.props.imageUrls[this.state.currentShowIndex||0].originUrl&&Z.createElement(H.View,{style:this.styles.watchOrigin},Z.createElement(H.TouchableOpacity,{style:this.styles.watchOriginTouchable},Z.createElement(H.Text,{style:this.styles.watchOriginText},"\u67E5\u770B\u539F\u56FE(2M)"))),Z.createElement(H.View,{style:[{bottom:0,position:"absolute",zIndex:9},this.props.footerContainerStyle]},this.props.renderFooter(this.state.currentShowIndex||0))))},o.prototype.getMenu=function(){return this.state.isShowMenu?this.props.menus?Z.createElement(H.View,{style:this.styles.menuContainer},this.props.menus({cancel:this.handleLeaveMenu,saveToLocal:this.saveToLocal})):Z.createElement(H.View,{style:this.styles.menuContainer},Z.createElement(H.View,{style:this.styles.menuShadow}),Z.createElement(H.View,{style:this.styles.menuContent},Z.createElement(H.TouchableHighlight,{underlayColor:"#F2F2F2",onPress:this.saveToLocal,style:this.styles.operateContainer},Z.createElement(H.Text,{style:this.styles.operateText},this.props.menuContext.saveToLocal)),Z.createElement(H.TouchableHighlight,{underlayColor:"#F2F2F2",onPress:this.handleLeaveMenu,style:this.styles.operateContainer},Z.createElement(H.Text,{style:this.styles.operateText},this.props.menuContext.cancel)))):null},o.prototype.render=function(){var t=null;return t=Z.createElement(H.View,null,this.getContent(),this.getMenu()),Z.createElement(H.View,{onLayout:this.handleLayout,style:jt({flex:1,overflow:"hidden"},this.props.style)},t)},o.defaultProps=new xa.Props,o}(Z.Component);st.default=Cg});var Tf=Me(Qo=>{"use strict";c();Object.defineProperty(Qo,"__esModule",{value:!0});var Pf=Rf();Qo.ImageViewer=Pf.default;var Rg=Ta();Qo.ImageViewerPropsDefine=Rg.Props;Qo.default=Pf.default});c();c();(function(){"use strict";var e="ListFormat"in Intl;function o(S,O){if(!(S instanceof O))throw new TypeError("Cannot call a class as a function")}function t(S,O){for(var R=0;R<O.length;R++){var k=O[R];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(S,k.key,k)}}function r(S,O,R){return O&&t(S.prototype,O),R&&t(S,R),S}var n=["conjunction","disjunction","unit"],i=["long","short","narrow"],a=["lookup","best fit"];function s(S){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(R){return typeof R}:s=function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},s(S)}function l(S){return typeof Symbol=="function"&&s(Symbol.iterator)==="symbol"?l=function(R){return s(R)}:l=function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":s(R)},l(S)}function u(S){if(S==null)throw new TypeError("Argument ".concat(S," cannot be converted to an Object"));return typeof S=="boolean"?new Boolean(S):typeof S=="number"?new Number(S):typeof S=="string"?new String(S):l(S)==="symbol"?new Object(S):S}var d;function p(S){d=S}function m(){return d}function b(){if(d==null)throw new ReferenceError("Could not determine locale: No default locale has been configured");return d}var w=new WeakMap,g={relevantExtensionKeys:[],localeData:{},availableLocales:[]};function C(S,O,R){var k=w.get(S);k==null&&(k=Object.create(null),w.set(S,k)),k[O]=R}function v(S,O){var R=w.get(S);if(R==null)throw new ReferenceError("No internal slots has been allocated for the given instance of ListFormat");return R[O]}function P(S,O){var R=w.get(S);return R!=null&&O in R}var I=/-u(?:-[0-9a-z]{2,8})+/gi;function B(S){return S.replace(I,"")}function q(S,O){for(var R=O;;){if(S.includes(R))return R;var k=R.lastIndexOf("-");if(k===-1)return;k>=2&&R.charAt(k-2)==="-"&&(k-=2),R=R.slice(0,k)}}function se(S,O){var R=[],k=!0,G=!1,K=void 0;try{for(var fe=O[Symbol.iterator](),ee;!(k=(ee=fe.next()).done);k=!0){var ue=ee.value,ie=B(ue),ve=q(S,ie);ve!==void 0&&R.push(ue)}}catch(Ie){G=!0,K=Ie}finally{try{!k&&fe.return!=null&&fe.return()}finally{if(G)throw K}}return R}function M(S,O){return se(S,O)}function j(S){return typeof S=="string"||l(S)==="symbol"}function te(S,O){if(l(S)!=="object")throw new TypeError("Given argument ".concat(S," must be of type Object"));if(!j(O))throw new TypeError("Given argument ".concat(O," must be a PropertyKey"));return S[O]}function ge(S){return Boolean(S)}function D(S){return S+""}function U(S,O,R,k,G){var K=te(S,O);if(K!==void 0){if(R!=="boolean"&&R!=="string")throw new TypeError("Expected type ".concat(R," to be 'boolean' or 'string"));if(R==="boolean"&&(K=ge(K)),R==="string"&&(K=D(K)),k!==void 0&&!k.includes(K))throw new RangeError("Value ".concat(K," out of range for options property ").concat(O));return K}else return G}function Ae(S,O,R){var k;return R!==void 0?(R=u(R),k=U(R,"localeMatcher","string",a,"best fit")):k="best fit",k==="best fit"?M(S,O):se(S,O)}function ye(S){var O=S.availableLocales,R=S.requestedLocales,k=Object.create(null),G=!0,K=!1,fe=void 0;try{for(var ee=R[Symbol.iterator](),ue;!(G=(ue=ee.next()).done);G=!0){var ie=ue.value,ve=B(ie),Ie=q(O,ve);if(Ie!==void 0){if(k.locale=Ie,ie!==ve){var Fe=ie.match(I);k.extension=Fe==null?"":Fe[0]}return k}}}catch(sr){K=!0,fe=sr}finally{try{!G&&ee.return!=null&&ee.return()}finally{if(K)throw fe}}var Ye=b();return k.locale=Ye,k}function qe(S){return ye(S)}function Zn(S,O,R,k,G){var K=R.localeMatcher,fe=K==="lookup"?ye({availableLocales:S,requestedLocales:O}):qe({availableLocales:S,requestedLocales:O}),ee=fe.locale,ue=Object.create(null);ue.dataLocale=ee;var ie="-u";if(ie.length>2){var ve=String.prototype.indexOf.call(ee,"-x-");if(ve===-1)ee="".concat(ee).concat(ie);else{var Ie=ee.slice(0,ve),Fe=ee.slice(ve);ee="".concat(Ie).concat(ie).concat(Fe)}ee=Intl.getCanonicalLocales(ee)[0]}return ue.locale=ee,ue}function Jn(S){if(Array.isArray(S)){for(var O=0,R=new Array(S.length);O<S.length;O++)R[O]=S[O];return R}}function Qn(S){if(Symbol.iterator in Object(S)||Object.prototype.toString.call(S)==="[object Arguments]")return Array.from(S)}function ei(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function ti(S){return Jn(S)||Qn(S)||ei()}function ir(S){if(S===void 0)return[];var O=ti(S);if(O.some(function(R){return typeof R!="string"}))throw new TypeError("All List items must be strings");return O}function oi(S){return Object.prototype.toString.call(S)==="[object Object]"}function ri(S){return Array.isArray(S)||oi(S)}function ar(S,O){for(var R=[],k=String.prototype.indexOf.call(S,"{",0),G=0,K=S.length;S[k]!==void 0;){var fe=String.prototype.indexOf.call(S,"}",k);if(fe<=k)throw new TypeError("Expected endIndex: ".concat(fe," to be greater than beginIndex: ").concat(k));if(k>G){var ee=S.slice(G,k);R.push({type:"literal",value:ee})}var ue=S.slice(k+1,fe);if(O[Number(ue)]==null)throw new TypeError("Expected placeables to have a part for PropertyKey: ".concat(ue));var ie=O[Number(ue)];if(ri(ie.value)){var ve=!0,Ie=!1,Fe=void 0;try{for(var Ye=ie.value[Symbol.iterator](),sr;!(ve=(sr=Ye.next()).done);ve=!0){var Cp=sr.value;R.push(Cp)}}catch(Pp){Ie=!0,Fe=Pp}finally{try{!ve&&Ye.return!=null&&Ye.return()}finally{if(Ie)throw Fe}}}else R.push(ie);G=fe+1,k=String.prototype.indexOf.call(S,"{",G)}if(G<K){var Rp=S.slice(G,K);R.push({type:"literal",value:Rp})}return R}function Eo(S,O){var R,k=O.length;if(k===0)return[];if(k===2){R=v(S,"templatePair");var G={type:"element",value:O[0]},K={type:"element",value:O[1]},fe={0:G,1:K};return ar(R,fe)}for(var ee={type:"element",value:O[k-1]},ue=[ee],ie=k-2;ie>=0;){ie===0?R=v(S,"templateStart"):ie<k-2?R=v(S,"templateMiddle"):R=v(S,"templateEnd");var ve={type:"element",value:O[ie]},Ie={type:"element",value:ue},Fe={0:ve,1:Ie};ue=ar(R,Fe),ie--}return ue}function ni(S,O){var R=Eo(S,O),k="",G=!0,K=!1,fe=void 0;try{for(var ee=R[Symbol.iterator](),ue;!(G=(ue=ee.next()).done);G=!0){var ie=ue.value;k+=ie.value}}catch(ve){K=!0,fe=ve}finally{try{!G&&ee.return!=null&&ee.return()}finally{if(K)throw fe}}return k}function ii(S,O){return Eo(S,O)}var Xe=function(){function S(){o(this,S);var O=arguments[0],R=arguments[1];if((this instanceof S?this.constructor:void 0)===void 0)throw new TypeError("Constructor Intl.ListFormat requires 'new'");var k=Intl.getCanonicalLocales(O);R=R===void 0?Object.create(null):u(R);var G=Object.create(null),K=U(R,"localeMatcher","string",a,"best fit");G.localeMatcher=K;var fe=U(R,"type","string",n,"conjunction");C(this,"type",fe);var ee=U(R,"style","string",i,"long");C(this,"style",ee);var ue=g.localeData,ie=Zn(g.availableLocales,k,G),ve=ie.dataLocale,Ie=ue[ve],Fe=Ie.formats[fe],Ye=Fe[ee];C(this,"templatePair",Ye.Pair),C(this,"templateStart",Ye.Start),C(this,"templateMiddle",Ye.Middle),C(this,"templateEnd",Ye.End),C(this,"locale",ie.locale),C(this,"initializedListFormat",this)}return r(S,[{key:"format",value:function(R){var k=this;if(!(k instanceof Object))throw new TypeError("Method Intl.ListFormat.prototype.format called on incompatible receiver ".concat(this.toString()));if(!P(k,"initializedListFormat"))throw new TypeError("Method Intl.ListFormat.prototype.format called on incompatible receiver ".concat(this.toString()));var G=ir(R);return ni(k,G)}},{key:"formatToParts",value:function(R){var k=this;if(!(k instanceof Object))throw new TypeError("Method Intl.ListFormat.prototype.formatToParts called on incompatible receiver ".concat(this.toString()));if(!P(k,"initializedListFormat"))throw new TypeError("Method Intl.ListFormat.prototype.formatToParts called on incompatible receiver ".concat(this.toString()));var G=ir(R);return ii(k,G)}},{key:"resolvedOptions",value:function(){var R=this;if(!(R instanceof Object))throw new TypeError("Method Intl.ListFormat.prototype.resolvedOptions called on incompatible receiver ".concat(this.toString()));if(!P(R,"initializedListFormat"))throw new TypeError("Method Intl.ListFormat.prototype.resolvedOptions called on incompatible receiver ".concat(this.toString()));var k=v(this,"locale"),G=v(this,"type"),K=v(this,"style");return{locale:k,type:G,style:K}}}],[{key:"supportedLocalesOf",value:function(R){var k=arguments[1],G=g.availableLocales,K=Intl.getCanonicalLocales(R);return Ae(G,K,k)}},{key:"__addLocaleData",value:function(R){var k=R.data,G=R.locale,K=m();K==null&&p(G),g.localeData[G]=k,g.availableLocales.includes(G)||g.availableLocales.push(G)}}]),S}();Object.defineProperty(Xe.prototype,Symbol.toStringTag,{writable:!1,enumerable:!1,value:"Intl.ListFormat",configurable:!0});function Rt(){if(typeof Intl>"u")throw new TypeError("Could not define Intl.ListFormat: Expected 'Intl' to exist. Remember to include polyfill for Intl.getCanonicalLocales before applying this polyfill");Intl.ListFormat=Xe}e||Rt()})();c();"__addLocaleData"in Intl.ListFormat&&Intl.ListFormat.__addLocaleData({locale:"en",data:{formats:{conjunction:{long:{Pair:"{0} and {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, and {1}"},short:{Pair:"{0} & {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, & {1}"},narrow:{Pair:"{0}, {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, {1}"}},disjunction:{long:{Pair:"{0} or {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, or {1}"},short:{Pair:"{0} or {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, or {1}"},narrow:{Pair:"{0} or {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, or {1}"}},unit:{long:{Pair:"{0}, {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, {1}"},short:{Pair:"{0}, {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, {1}"},narrow:{Pair:"{0} {1}",Start:"{0} {1}",Middle:"{0} {1}",End:"{0} {1}"}}}}});X();c();function Op(e){return Ja().collection("spaces").doc(e).collection("redirects")}function Wc(e,o){return Op(e).doc(Qa(o))}c();function Uc(e){return!!e.collection&&!!e.inheritCustomization}c();function Ip(e){return mr(e).collection("page-feedbacks")}function zc(e,o){return Ip(e).doc(o)}function _p(e,o){return zc(e,o).collection("feedbacks")}function yi(e,o,t){return _p(e,o).doc(t)}function jc(e,o){let t=yi(o.space,o.page,o.visitorId),r=zc(o.space,o.page);e.set(t,{visitorId:o.visitorId,rating:o.rating,createdAt:Be.firestore.Timestamp.now(),revision:o.revision,page:o.page}),e.set(r,{[o.rating]:Be.firestore.FieldValue.increment(1),updatedAt:Be.firestore.Timestamp.now()},{merge:!0}),o.previousRating&&e.update(r,{[o.previousRating]:Be.firestore.FieldValue.increment(-1)})}c();c();var Qt=T(x()),Nr=T(xp());function Gc(e=2e3){let[o,t]=Qt.useState(!1),r=Qt.useRef(null);return Qt.useEffect(()=>(!o&&typeof window<"u"&&(r.current=setTimeout(()=>(0,Nr.unstable_runWithPriority)(Nr.unstable_IdlePriority,()=>t(!0)),e)),()=>{r.current&&clearTimeout(r.current)}),[]),o}c();var Vr=T(x());function qc(e,o){let[t,r]=Vr.useState(e);return Vr.useEffect(()=>{let n=typeof o=="number"?o:o[e],i=setTimeout(()=>{r(e)},n);return()=>{clearTimeout(i)}},[e,o]),t}c();var Xc=T(x());function Yc(){let e=Xc.useRef();return Yt(()=>{e.current=window},[]),e}c();var eo=T(x());function Kc(){let e=eo.useRef(new WeakMap);return eo.useCallback(o=>(e.current.has(o)||e.current.set(o,eo.createRef()),e.current.get(o)),[])}c();var $c=T(x()),Hr=0;function Zc(e=!0){$c.useEffect(()=>{if(!e)return;let o=document.documentElement;if(Hr===0){let t=window.innerWidth-o.clientWidth;o.style.overflow="hidden",o.style.paddingRight=`${t}px`}return Hr+=1,()=>{Hr-=1,Hr===0&&(o.style.overflow="auto",o.style.paddingRight="0px")}},[e])}c();var Dt=T(x());X();c();var Fr=T(x());X();var Lp=L.createResponsiveComponent(Ne);function Jc(e){let[,o]=E(Mp),{close:t}=Tr(),r=$t()==="mobile",n=e.closeable||r,i=()=>{e.onClose&&e.onClose(),t(e.id)},a=Lo({mount:Dp,unmount:Ap});return Fr.createElement(y,{ref:a},Fr.createElement(Lp,{mobileStyle:o.toastMobile,desktopStyle:o.toastDesktop,onPress:()=>{e.onOpen&&e.onOpen(),n&&i()}},Fr.createElement(Ks,{...e,onClose:n?i:void 0,style:o.alert})))}var Dp={duration:it.TRANSITION_DURATION_SHORT,frames:{0:{opacity:0,transform:[{translateY:100}]},1:{opacity:1,transform:[{translateY:0}]}}},Ap={duration:it.TRANSITION_DURATION_SHORT,frames:{0:{opacity:1,transform:[{translateY:0}]},1:{opacity:0,transform:[{translateY:100}]}}},Mp=A.create({toastDesktop:{width:"auto",minWidth:420,maxWidth:720,marginBottom:f.small},toastMobile:{width:"100%",minWidth:0},alert:e=>({...e.shadows.pop,borderColor:e.colors.border.main})});function Qc(e){let o=_o(Ys),t=_o(Xs),r=Dt.useRef(null),n=Hp[o];return Dt.createElement(ft,{ref:r},Dt.createElement(L.View,{style:[Vp.toaster],mobileStyle:n.mobile,desktopStyle:n.desktop},Dt.createElement(Ns,null,t.map(i=>Dt.createElement(Jc,{...i,key:i.id})))))}var Vp=de.create({toaster:{position:"fixed",zIndex:200}}),Hp={"bottom-right":de.create({desktop:{bottom:f.medium,right:f.medium},mobile:{bottom:f.medium,right:f.medium,left:f.medium}}),"bottom-right-with-bar":de.create({desktop:{bottom:f.xxlarge,right:f.medium},mobile:{bottom:f.xxlarge+f.xlarge+f.medium,right:f.medium,left:f.medium}})};c();var Ri=T(x());c();var ae=T(x());X();c();var $=T(x());X();c();var Qe=T(x());function Fp(e){if(typeof e.key!="string")throw new Error("Need a key getter");return e.key}function tl(e){let{items:o,scrollTo:t,onSelect:r,onOpen:n,onClose:i,getKey:a=Fp,active:s=!0,startAtFirst:l}=e,[u,d]=(0,Qe.useState)(null),p=Hs(),m=(typeof l>"u"?p.current:l)||!1,b=(0,Qe.useMemo)(()=>Bp(o,u,a,m),[o,u,a,m]),w=_s(b),g=(0,Qe.useCallback)(P=>d(a(P)),[d,a]),C=(0,Qe.useCallback)(P=>{p.current||g(P)},[g]),v=(0,Qe.useCallback)(P=>{if(P>0&&w.current.next){let{next:I}=w.current;g(I),t(I)}else if(P<0&&w.current.prev){let{prev:I}=w.current;g(I),t(I)}},[t,g]);return(0,Qe.useEffect)(()=>{if(!s)return;let P=I=>{I.key==="Enter"?(I.preventDefault(),I.stopPropagation(),w.current.current&&r(w.current.current)):I.key==="ArrowRight"&&el(I,"end")?(I.preventDefault(),I.stopPropagation(),w.current.current?n==null||n(w.current.current):v(1)):I.key==="ArrowLeft"&&i&&el(I,"start")?(I.preventDefault(),I.stopPropagation(),i()):I.key==="ArrowDown"?(I.preventDefault(),I.stopPropagation(),v(1)):I.key==="ArrowUp"&&(I.preventDefault(),I.stopPropagation(),v(-1))};return document.addEventListener("keydown",P,{capture:!0}),()=>{document.removeEventListener("keydown",P,{capture:!0})}},[v,r,n,i,s]),{cursor:b,setCursor:g,hoverItem:C}}function Bp(e,o,t,r){let n=null,i=null,a=null;return e.some(s=>(t(s)===o?a=s:a?a&&!i&&(i=s):n=s,a!=null&&i!=null)),a||(r?(n=null,a=e[0],i=e[1]):(n=null,a=null,i=e[0])),{prev:n,next:i,current:a}}function el(e,o){let t=e.target;if(!t)return!0;let r=t.selectionStart;if(r==null)return!0;let n=t.selectionEnd;if(r!==n)return!1;if(o==="start")return r===0;let i=t.value.length;return r===i}c();var V=T(x());X();var ol="Label",rl="Label",nl="Label",il="Caption",vi="Caption",al=vi,sl=V.forwardRef(function(o,t){let{command:r,query:n,active:i,inline:a,executeCommand:s,onHoverIn:l}=o,[u,d]=E(Y),[,p]=E(Wp),[m,b]=Ls(!1),w=d.text,g=d.textMid,C=d.primary,v=u.colors.background.main;i&&(w=d.textStandout,g=d.textMid,v=u.colors.background.muted);let P=[d.Bold],I=V.useCallback(()=>{let se=s(r);se instanceof Promise&&b(()=>se)},[r,s]),B=V.useCallback(()=>l(r),[r,l]),q=Q.useInteractiveState({onHoverIn:B});return V.createElement(lt,{ref:t,component:Ne,...q.events,onMouseDown:se=>{se.preventDefault()},onPress:I,backgroundColor:v,style:[h.directionRow,h.alignCenter,a||r.size==="small"?f.Padding.smallVertical:f.Padding.mediumVertical,a?f.Padding.mediumHorizontal:f.Padding.largeHorizontal,{height:bi(r,a)}]},m?V.createElement(y,{style:[f.Padding.mediumRight]},V.createElement(ut,{size:_.ICON_M})):r.icon?V.createElement(y,{style:[f.Padding.mediumRight]},V.createElement(V.Suspense,{fallback:V.createElement(y,{style:{width:_.ICON_M,height:_.ICON_M}})},V.createElement(r.icon,{size:_.ICON_M,style:C}))):null,V.createElement(y,{style:h.flex1},V.createElement(y,{style:h.directionRow},V.createElement(y,{style:h.flex1},r.title?V.createElement(y,null,V.createElement(J,{style:[a?d[rl]:d[ol],w,r.subtitle?d.Bold:d.Medium],numberOfLines:1},V.createElement(kr,{query:n,text:r.title,highlight:P}))):null,r.subtitle?V.createElement(y,null,V.createElement(J,{style:[a?d[il]:d[nl],g],numberOfLines:a?1:void 0},V.createElement(kr,{query:n,text:r.subtitle,highlight:P}))):null),r.label?V.createElement(y,{style:[h.directionRow,h.alignCenter,f.Margin.smallLeft,f.Padding.smallHorizontal,p.commandLabel]},r.label.icon?V.createElement(y,{style:[f.Padding.smallRight]},V.createElement(V.Suspense,{fallback:V.createElement(y,{style:{width:_.ICON_S,height:_.ICON_S}})},V.createElement(r.label.icon,{size:_.ICON_S,style:d.textInsideColor}))):null,V.createElement(y,null,V.createElement(J,{style:[d.Caption,d.textInsideColor]},r.label.title))):null,a||!r.shortcut?null:V.createElement(y,{style:[h.directionRow,h.alignCenter]},V.createElement(y,{style:[f.Margin.smallLeft,f.Padding.smallHorizontal]},V.createElement(xr,{shortcut:r.shortcut})))),r.body?V.createElement(y,{style:[p.commandBody,f.Padding.smallLeft,f.Margin.smallTop]},r.body.map((se,M)=>V.createElement(y,{key:M},V.createElement(J,{style:[a?d[al]:d[vi],d.textMid],numberOfLines:1},V.createElement(kr,{query:n,text:se,highlight:P}))))):null),r.descendant?V.createElement(y,{style:[f.Padding.mediumLeft]},V.createElement(z.ChevronRight,{size:_.ICON_S,style:[d.textMuted]})):null,typeof r.selected=="boolean"?V.createElement(y,{style:[f.Padding.mediumLeft]},V.createElement(Js,{value:r.selected,onValueChange:I,size:a?_.ICON_S:_.ICON_M})):null,typeof r.enabled=="boolean"?V.createElement(y,{style:[f.Padding.mediumLeft]},V.createElement(Zs,{value:r.enabled,onValueChange:I})):null)});function bi(e,o){let t=0;return t+=2*(o||e.size==="small"?f.small:f.medium),t+=Math.max(e.title&&(o?Et[rl]:Et[ol]).lineHeight||0,e.icon?_.ICON_M:0,typeof e.selected=="boolean"||typeof e.enabled=="boolean"?o?_.ICON_S:_.ICON_M:0),e.subtitle&&(t+=(o?Et[il]:Et[nl]).lineHeight||0),e.body&&(t+=f.small,t+=e.body.length*((o?Et[al]:Et[vi]).lineHeight||0)),t}var Wp=A.create({commandLabel:e=>({height:_.BUTTON_S,borderRadius:e.radiuses.large,backgroundColor:e.colors.primary.main,textColor:e.colors.primary.textInside}),commandBody:e=>({borderLeftWidth:1,borderLeftColor:e.colors.border.mid})});function cl(e){var ge;let{computed:{listId:o,items:t,sections:r,areMoreLoading:n},withKeyboardInteractions:i,palette:a,setPalette:s,setTopPalette:l}=e,u=$t(),d=$.useRef(null),p=Kc(),m=$.useCallback(async D=>{let U=await ec(a,D);U?s(U):l(null)},[s,l]),b=$.useCallback(D=>{s(U=>{if(!U)return null;let Ae=p(D),ye=tc(U,D,Ae);return ye||(U.descendant?{...U,descendant:void 0}:U)})},[s,p]),w=$.useCallback(()=>{s(D=>D!=null&&D.parent?null:D)},[s]),g=$.useCallback(D=>{let U=-1;return{sectionIndex:r.findIndex(ye=>(U=ye.data.findIndex(qe=>qe.key===D),U>=0)),itemIndex:U,viewPosition:.5}},[r]),C=$.useCallback(D=>{var U;return(U=d.current)==null?void 0:U.scrollToLocation(g(D.key))},[g]),v=!!a.position,P=tl({active:i,items:t,onSelect:m,onOpen:b,onClose:w,scrollTo:C,startAtFirst:v?void 0:!0}),I=v?r.length>1:!0,B=$.useCallback(D=>{P.hoverItem(D),a.position&&b(D)},[P.hoverItem,b,!!a.position]),q=$.useMemo(()=>fc({getItemHeight:({item:D})=>bi(D,v),getSectionSeparatorHeight:({section:D,leadingItem:U,leadingSection:Ae,trailingItem:ye,trailingSection:qe})=>Ae&&!U&&!D.group.title?2*(f.small-1)+1:qe&&!ye?v?_.S/4:_.S/2:0,getSectionHeaderHeight:({section:D})=>I&&D.group.title?_.S:0}),[v,I]),se=$.useMemo(()=>I?({section:D})=>D.group.title?$.createElement(zp,{group:D.group,inline:v}):null:void 0,[v,I]),M=$.useCallback(D=>$.createElement(jp,{...D,inline:v}),[v]),j=$.useCallback(({item:D})=>{var U;return $.createElement(sl,{ref:p(D),active:u==="desktop"&&D.key===((U=P.cursor.current)==null?void 0:U.key),command:D,query:a.query.text,inline:v,executeCommand:m,onHoverIn:B})},[m,p,v,(ge=P.cursor.current)==null?void 0:ge.key,B,u]),te=n&&v;if(!te&&t.length===0){let D=a.placeholder||(Do(a)?null:"No items found");return D?$.createElement(Up,{placeholder:D,inline:v}):null}return $.createElement(y,{style:[h.flex1]},$.createElement(Ua,{key:o,ref:d,sections:r,extraData:P.cursor,getItemLayout:q,renderItem:j,SectionSeparatorComponent:M,renderSectionHeader:se,contentContainerStyle:[v?f.Padding.smallVertical:f.Padding.mediumVertical]}),te?$.createElement(y,{style:[h.directionRow,h.justifyContentCenter,f.Padding.medium]},$.createElement(ut,{size:_.ICON_L})):null)}function Up(e){let{placeholder:o,inline:t}=e,[,r]=E(Y);return $.createElement(y,{style:[f.Padding.smallHorizontal,f.Padding.mediumVertical]},$.createElement(y,{style:[t?f.Padding.mediumHorizontal:f.Padding.largeHorizontal]},$.createElement(J,{style:[r.Caption,r.textMuted]},o)))}function zp(e){let{group:o,inline:t}=e,[,r]=E(Y);return $.createElement(y,{style:[Gp.paletteGroupHeader,h.directionRow,h.alignCenter,f.Padding.smallHorizontal]},$.createElement(y,{style:[t?f.Padding.smallHorizontal:f.Padding.largeHorizontal]},$.createElement(J,{style:[r.GroupTitle,r.textMuted]},o.title)))}function jp(e){let{leadingSection:o,section:t,leadingItem:r,inline:n,trailingSection:i,trailingItem:a}=e,[,s]=E(qp);return o&&!r&&!t.group.title?$.createElement(y,{style:s.paletteDividerUntitled}):(i&&!a&&(y,n?s.paletteDividerFooterInline:s.paletteDividerFooter),null)}var Gp=de.create({paletteGroupHeader:{height:_.S}}),qp=A.create({paletteDividerUntitled:(e,o)=>({marginTop:f.small-1,marginBottom:f.small-1,borderTopColor:o.color==="light"?e.colors.border.mid:e.colors.sidebar.itemBorder,borderTopWidth:1}),paletteDividerFooter:{height:_.S/2},paletteDividerFooterInline:{height:_.S/4}});c();var to=T(x());X();function ll(e){let{error:o,inline:t}=e,[,r]=E(Y);return to.createElement(y,{style:[h.directionRow,t?f.Padding.smallVertical:f.Padding.mediumVertical,t?f.Padding.mediumHorizontal:f.Padding.largeHorizontal]},to.createElement(y,{style:[f.Padding.mediumRight,f.Padding.xsmallTop]},to.createElement(z.Warning,{size:_.ICON_S,style:r.danger})),to.createElement(y,{style:h.flex1},to.createElement(J,{style:[r.danger,r.Label]},Ya(o))))}c();var ce=T(x());X();var ul=ce.forwardRef(function(o,t){let{palette:r,setPalette:n,loading:i,withItems:a,placement:s,onTypeInSearch:l}=o,u=Sr(2e3),[,d]=E(Yp),[p,m]=E(Y),b=qc(i?"loading":"stale",{loading:400,stale:800}),w=It(()=>new Pt.Value(0)).current;ce.useEffect(()=>{let I=Pt.timing(w,{useNativeDriver:!0,toValue:b==="loading"?.7:0,duration:it.TRANSITION_DURATION_SHORT});return I.start(),()=>{I.stop()}},[w,b]);let[g,C]=Ds(r.query.text,[r]),v=I=>{C(I),n(B=>!r||!B?r:oc({...B,descendant:void 0},I))},P=I=>{I.nativeEvent.key==="Backspace"&&r.query.text.length===0?n(B=>B&&Object.keys(B.query.filters).length>0?nc(B):B):I.nativeEvent.key==="Escape"?n(null):u(()=>{l(r)})};return ce.createElement(y,{style:a&&d.paletteInputWrapperWithBottomBorder},ce.createElement(y,{style:[h.directionRow,h.alignCenter]},r.parent&&(!r.position||s==="right")?ce.createElement(y,{style:[r.position?f.Padding.smallLeft:f.Padding.mediumLeft]},ce.createElement(z.ChevronLeft,{size:r.position?_.ICON_M:_.ICON_L,style:m.textMuted})):null,ce.createElement(y,{style:[h.flex1,h.directionRow,h.alignCenter,d.paletteInput,r.position?f.Margin.small:f.Margin.medium]},r.position?null:ce.createElement(y,{style:[f.Margin.largeLeft]},ce.createElement(z.Search,{size:_.ICON_L,style:m.textMuted})),ce.createElement(y,{style:[h.flex1]},ce.createElement(za,{ref:t,value:g,placeholder:r.search,placeholderTextColor:p.colors.text.muted,onChangeText:v,onKeyPress:P,style:[r.position?m.Caption:m.Body,m.text,r.position?f.Padding.mediumHorizontal:f.Padding.largeHorizontal,r.position?f.Padding.smallVertical:f.Padding.mediumVertical]})),r.position?null:ce.createElement(Pt.View,{style:[f.Margin.smallHorizontal,f.Margin.largeRight,{opacity:w}]},ce.createElement(ut,{size:_.ICON_M,style:m.textMuted})),ce.createElement(L.View,{mobileStyle:"visible",desktopStyle:"hidden",style:[f.Margin.smallHorizontal]},ce.createElement(pe,{icon:z.X,size:"large",onPress:()=>n(null)}))),r.parent&&r.position&&s==="left"?ce.createElement(y,{style:[f.Padding.smallRight]},ce.createElement(z.ChevronRight,{size:_.ICON_M,style:m.textMuted})):null),ce.createElement(Xp,{palette:r,setPalette:n}))});function Xp(e){let{palette:o,setPalette:t}=e,r=Object.entries(o.query.filters);if(r.length===0)return null;let n=i=>{t(a=>rc(a,i))};return ce.createElement(y,{style:[h.directionRow,f.Padding.largeHorizontal,f.Padding.mediumBottom]},r.map(([i,a])=>ce.createElement(Qs,{key:i,kind:"primary",size:"small",onPress:()=>n(i),style:f.Margin.smallRight},`${i}: ${a.text}`)))}var Yp=A.create({paletteInputWrapperWithBottomBorder:(e,o)=>({borderBottomColor:o.color==="light"?e.colors.border.mid:e.colors.sidebar.itemBorder,borderBottomWidth:1}),paletteInput:e=>({backgroundColor:e.colors.background.muted,borderRadius:e.radiuses.large})});c();var oo=T(x());function dl(e){let[o,t]=oo.useState(!1),r=It(()=>new WeakMap),n=oo.useRef(null);return oo.useMemo(()=>{let i=[],a=[],s;e.groups.forEach(d=>{let p;try{p=Kp(e,d)}catch(m){s=m;return}if(p instanceof Promise){let m=r.current.get(d);m&&i.push(m),a.push(p)}else p&&(r.current.set(d,p),i.push(p))});let l=i.filter(d=>d.data.length>0).sort((d,p)=>d.priority>p.priority?-1:d.priority<p.priority?1:0),u=l.reduce((d,p)=>(d.push(...p.data),d),[]);if(a.length>0){t(!0);let d=n.current=Promise.all(a);d.then(()=>{d===n.current&&(t(!1),n.current=null)}).catch(p=>qa(new Error(p)))}return{listId:Date.now(),items:u,sections:l,areMoreLoading:o,error:s}},[e.groups,e.query,o,r])}function Kp(e,o){try{if(Object.keys(e.query.filters).length>0&&typeof o.commands!="function")return;let t=typeof o.commands=="function"?o.commands(e):o.commands,r=typeof o.commands!="function"||o.commands.length===0,n=o.priority||5;if(r){let i=$p(e.query.text,t);n=i.reduce((a,s)=>typeof s.score<"u"?Math.max((1-s.score)*10,a):a,n),t=i.map(a=>a.item)}return{group:o,priority:n,data:t}}catch(t){if(t instanceof Promise)return t;throw t}}function $p(e,o){return e?new gs(o,{threshold:.3,location:0,distance:100,shouldSort:!0,includeScore:!0,minMatchCharLength:1,isCaseSensitive:!1,keys:["title","keywords"]}).search(e):o.map(r=>({item:r,score:void 0}))}c();var Ci=T(Tp()),zr=T(x());var Si=204,Br=246,wi=384,Zp=630,Wr=180,Ur=355;function fl(e,o){var s;let t=zr.useMemo(()=>Qp(e,o),[e.position,!!e.parent,o]),r=zr.useCallback(l=>Jp(l,e.position),[e.position]),[n,i,a]=Gs((s=e.position)==null?void 0:s.anchorRef,r,t);return[n,i,a]}function Jp(e,o){let t,r=(o==null?void 0:o.width)||"medium";switch(r){case"small":t={width:Si,maxWidth:Si,minWidth:Si,minHeight:0,height:Wr,maxHeight:Ur};break;case"medium":t={width:Br,maxWidth:Br,minWidth:Br,minHeight:0,height:Wr,maxHeight:Ur};break;case"large":t={width:wi,maxWidth:wi,minWidth:wi,minHeight:0,height:Wr,maxHeight:Ur};break;case"anchor":let n=Math.max(Br,e.width),i=(0,Ci.default)(e.width,n,Zp);t={width:(0,Ci.default)(e.width,n,i),maxWidth:i,minWidth:n,minHeight:0,height:Wr,maxHeight:Ur};break;default:Xt(r)}return t}function Qp(e,o){var r,n;let t={cover:(r=e.position)==null?void 0:r.cover,spacingWithAnchor:f.small};return e.parent?(t.offset={top:-f.small},t.allowedPlacements=o==="left"?["left","right"]:["right","left"]):((n=e.position)==null?void 0:n.width)==="anchor"&&(t.allowedPlacements=["bottom","top"]),t}var em=L.createResponsiveComponent(lt);function pl(e){var u;let{palette:o,setPalette:t,useOnPaletteView:r}=e;r(o);let n=ae.useRef(null),[,i]=E(hl),a=()=>t(null),s=Lo(it.fade),l=As("OUTSIDE_CLICK");return Cr({opened:!0,closeOnEsc:!Do(o),closeOnClick:!1,closeOnOutsideClick:!1,closeOnScroll:!1,onClose:a},n),Zc(),ae.createElement(ft,{ref:n},ae.createElement(si,{onPressIn:()=>{l&&a()}},ae.createElement(y,{ref:s,style:[i.paletteBackdrop,((u=o.position)==null?void 0:u.anchorRef)&&i.paletteBackdropInline]},ae.createElement(ml,{...e,setTopPalette:t}))))}function ml(e){let{palette:o,setPalette:t,setTopPalette:r,paletteVariant:n,parentPlacement:i,onTypeInSearch:a}=e,[s,l]=fl(o,i),u=Lo(o.position?it.slideToL[l]:it.pop);return ae.createElement(ae.Fragment,null,ae.createElement(nt,{theme:n},ae.createElement(tm,{ref:u,...e,setTopPalette:r,positionStyle:s,placement:l,onTypeInSearch:a})),o.descendant?ae.createElement(ml,{palette:o.descendant,setTopPalette:r,setPalette:d=>{t(p=>{if(!p)return null;let m=typeof d=="function"?d(p.descendant||null):d;return{...p,descendant:m||void 0}})},paletteVariant:n,parentPlacement:l,onTypeInSearch:a}):null)}var tm=ae.forwardRef(function(o,t){let{palette:r,setPalette:n,setTopPalette:i,positionStyle:a,placement:s,onTypeInSearch:l}=o,u=ae.useRef(null),[d,p]=E(hl),m=dl(r),b=!r.descendant;if(ae.useEffect(()=>{if(r.descendant)return;let w=u.current;w&&(document.activeElement===w||(w.select(),w.focus()))},[r]),!b&&!r.position){let w=ic(r),g=-(w.length*10),C=-2*g;return ae.createElement(y,{style:[p.palette,p.paletteDesktop,p.paletteDesktopPlaceholder,w.length?{position:"absolute",top:g,height:C,opacity:Math.pow(.6,w.length),transform:[{scale:Math.pow(.95,w.length)}]}:null]})}return ae.createElement(si,{onPress:w=>w.preventDefault()},ae.createElement(em,{ref:t,backgroundColor:d.colors.background.main,style:[p.palette],mobileStyle:p.paletteMobile,desktopStyle:r.position?[p.paletteInline,a]:p.paletteDesktop,onStartShouldSetResponder:()=>!0},Do(r)?ae.createElement(ul,{ref:u,palette:r,setPalette:n,loading:m.areMoreLoading,withItems:m.items.length>0,placement:s,onTypeInSearch:l}):null,m.error?ae.createElement(ll,{error:m.error,inline:!!r.position}):null,ae.createElement(cl,{computed:m,palette:r,withKeyboardInteractions:b,setPalette:n,setTopPalette:i})))}),hl=A.create({paletteBackdrop:e=>({flexDirection:"row",alignItems:"flex-start",justifyContent:"center",position:"fixed",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",zIndex:100,backgroundColor:e.colors.backdrop.background}),paletteBackdropInline:e=>({backgroundColor:"transparent"}),palette:e=>({borderRadius:e.radiuses.xlarge,borderColor:e.colors.border.main,borderWidth:1,overflow:"hidden",...e.shadows.pop}),paletteDesktop:{marginTop:f.xxlarge,width:640,maxHeight:480},paletteDesktopPlaceholder:e=>({backgroundColor:e.colors.background.main}),paletteMobile:{position:"absolute",marginTop:0,top:f.small,left:f.small,right:f.small,maxHeight:440,width:"auto",maxWidth:"100%",minWidth:"auto"},paletteInline:{position:"absolute"}});function gl(e){let[o,t]=Ze(ac);return Ri.createElement(Ms,null,o?Ri.createElement(pl,{palette:o,setPalette:t,paletteVariant:o.variants||{},...e}):null)}c();var ro=T(x());function yl(e){let{children:o,...t}=e;return ro.createElement(Es,null,ro.createElement(js,null,ro.createElement(Vs,null,ro.createElement(gl,{...t}),ro.createElement(Qc,null),o)))}c();var Gr=T(x());var jr=Ve("auth"),Cl="gbn-auth-key",Ti=Fs(e=>{let{customToken:o,waitUserReady:t=!0}=e;if(typeof window>"u")throw new Error("initializeAuth should not be called during SSR");return!o&&!t?{customToken:o}:new Oo("auth.initialize").wrap(async()=>{let n=localStorage.getItem(Cl);if(o)try{jr.info("authenticating with custom token before subscribing to auth"),await Be.auth().signInWithCustomToken(o)}catch(i){jr.critical("Error during auth with custom token",i)}else if(n){jr.info("authenticating with key from gitbook-new");try{await dm(n)}catch(i){jr.error("failed to authenticate with gitbook-new, fallback to normal auth",i)}}return t!==!1&&await new Promise((i,a)=>{let s=Be.auth().onAuthStateChanged(()=>{s(),i()},a)}),{customToken:o}})});async function dm(e){return new Oo("auth.authenticateWithGitBookNewKey").wrap(async()=>{let{data:t}=await Be.functions().httpsCallable("users-authWithGitBookNew")({key:e});await Be.auth().signInWithCustomToken(t.token),localStorage.removeItem(Cl)})}function xi(e){return Ti.readAsync(e)}function qr(e){let{children:o}=e;if(typeof window<"u"){if(Ti.state==="unstarted")throw new Error("initializeAuth should have been called before useWaitFirebaseAuth");Ti.read({})}return Gr.createElement(Gr.Fragment,null,o)}c();c();c();function no(){return no=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},no.apply(this,arguments)}var io;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(io||(io={}));var Rl=function(e){return e};var Pl="beforeunload";var fm="popstate";function kl(e){e===void 0&&(e={});var o=e,t=o.window,r=t===void 0?document.defaultView:t,n=r.history;function i(){var M=r.location,j=M.pathname,te=M.search,ge=M.hash,D=n.state||{};return[D.idx,Rl({pathname:j,search:te,hash:ge,state:D.usr||null,key:D.key||"default"})]}var a=null;function s(){if(a)b.call(a),a=null;else{var M=io.Pop,j=i(),te=j[0],ge=j[1];if(b.length){if(te!=null){var D=d-te;D&&(a={action:M,location:ge,retry:function(){q(D*-1)}},q(D))}}else P(M)}}r.addEventListener(fm,s);var l=io.Pop,u=i(),d=u[0],p=u[1],m=xl(),b=xl();d==null&&(d=0,n.replaceState(no({},n.state,{idx:d}),""));function w(M){return typeof M=="string"?M:ki(M)}function g(M,j){return j===void 0&&(j=null),Rl(no({pathname:p.pathname,hash:"",search:""},typeof M=="string"?Ei(M):M,{state:j,key:pm()}))}function C(M,j){return[{usr:M.state,key:M.key,idx:j},w(M)]}function v(M,j,te){return!b.length||(b.call({action:M,location:j,retry:te}),!1)}function P(M){l=M;var j=i();d=j[0],p=j[1],m.call({action:l,location:p})}function I(M,j){var te=io.Push,ge=g(M,j);function D(){I(M,j)}if(v(te,ge,D)){var U=C(ge,d+1),Ae=U[0],ye=U[1];try{n.pushState(Ae,"",ye)}catch(qe){r.location.assign(ye)}P(te)}}function B(M,j){var te=io.Replace,ge=g(M,j);function D(){B(M,j)}if(v(te,ge,D)){var U=C(ge,d),Ae=U[0],ye=U[1];n.replaceState(Ae,"",ye),P(te)}}function q(M){n.go(M)}var se={get action(){return l},get location(){return p},createHref:w,push:I,replace:B,go:q,back:function(){q(-1)},forward:function(){q(1)},listen:function(j){return m.push(j)},block:function(j){var te=b.push(j);return b.length===1&&r.addEventListener(Pl,Tl),function(){te(),b.length||r.removeEventListener(Pl,Tl)}}};return se}function Tl(e){e.preventDefault(),e.returnValue=""}function xl(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter(function(r){return r!==t})}},call:function(t){e.forEach(function(r){return r&&r(t)})}}}function pm(){return Math.random().toString(36).substr(2,8)}function ki(e){var o=e.pathname,t=o===void 0?"/":o,r=e.search,n=r===void 0?"":r,i=e.hash,a=i===void 0?"":i;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Ei(e){var o={};if(e){var t=e.indexOf("#");t>=0&&(o.hash=e.substr(t),e=e.substr(0,t));var r=e.indexOf("?");r>=0&&(o.search=e.substr(r),e=e.substr(0,r)),e&&(o.pathname=e)}return o}var Oi=Ve("history");function El(){let e=kl(),o=[],t=!1,r=()=>{let i=o.shift();return i?(i(),!1):!0},n=i=>{t?o.push(i):i()};return{get location(){return e.location},listen:i=>e.listen(a=>{i({location:a.location,action:a.action})}),push:i=>{let{state:a,...s}=i;n(()=>{Oi.info("push",s,a),e.push(s,a)})},replace:i=>{let{state:a,...s}=i;n(()=>{Oi.info("replace",s,a),e.replace(s,a)})},go:i=>{n(()=>{Oi.info("go",i),e.go(i)})},transaction:i=>{if(t)i();else{let a=e.listen(()=>{r()&&a()});t=!0,i(),t=!1,r()&&a()}}}}c();function Il(e){let{basename:o="",location:t="/",context:r}=e,n=(a,s)=>{r.action=s,r.location=mm(o,Ol(a)),r.url=ki(r.location)};return{staticContext:r,location:hm(o,Ol(Ei(t))),push:a=>{n(a,"PUSH")},replace:a=>{n(a,"REPLACE")},go:()=>{},listen:()=>()=>{},transaction:a=>{a()}}}function _l(e){return e.charAt(0)==="/"?e:`/${e}`}function mm(e,o){return e?{...o,pathname:_l(e)+o.pathname}:o}function hm(e,o){if(!e||!o.pathname)return o;let t=_l(e);return o.pathname.indexOf(t)!==0?o:{...o,pathname:o.pathname.substr(t.length)}}function Ol(e){let o={hash:"",search:"",pathname:"",...e,key:"",state:void 0};return o.search&&o.search.charAt(0)!=="?"&&(o.search=`?${o.search}`),o.hash&&o.hash.charAt(0)!=="#"&&(o.hash=`#${o.hash}`),o}c();var At=T(x()),Ll=T(kp());function Ii(e){let{history:o,children:t}=e,r=At.useMemo(()=>o||El(),[o]),n=At.useMemo(()=>({getCurrentValue:()=>r.location,subscribe:a=>r.listen(a)}),[r]),i=(0,Ll.useSubscription)(n);return At.createElement(gc.Provider,{value:r},At.createElement(yc.Provider,{value:i},t))}function Dl(e){let{children:o,...t}=e,r=Il(t);return At.createElement(Ii,{history:r},o)}c();var Xr=T(x());function Ml(e){var r,n,i;let o=(0,Xr.useContext)(mt);gm(o,e),It(()=>Nl(o,e));let t=It(()=>Al(o,e));(0,Xr.useEffect)(()=>(t.current=Al(o,e),()=>{!t.current||window.gtag("config",t.current,{update:!0,groups:"not_tracking_views"})}),[(r=e==null?void 0:e.googleAnalytics)==null?void 0:r.enabled,(n=e==null?void 0:e.googleAnalytics)==null?void 0:n.trackingPrivateViews,(i=e==null?void 0:e.googleAnalytics)==null?void 0:i.trackingID,o])}function _i(e){var o;return Boolean(((o=e.googleAnalytics)==null?void 0:o.enabled)&&typeof e.googleAnalytics.trackingID=="string")}function gm(e,o){at(t=>{var r;Li(e,o)||t.writeSafe({type:"script",src:`https://www.googletagmanager.com/gtag/js?l=dataLayer&id=${(r=o==null?void 0:o.googleAnalytics)==null?void 0:r.trackingID}`})})}function Nl(e,o){Li(e,o)||typeof window>"u"||(window==null?void 0:window.gtag)||(window.dataLayer=window.dataLayer||[],window.gtag=function(...t){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config",o.googleAnalytics.trackingID))}function Al(e,o){var r;if(Li(e,o)||typeof window>"u")return;window!=null&&window.gtag||Nl(e,o),window.gtag("config",o.googleAnalytics.trackingID,{send_page_view:!1,anonymize_ip:!0,groups:"tracking_views"});let t=yr()==="rejected";return window.gtag("consent","default",{ad_storage:t?"denied":"granted",analytics_storage:t?"denied":"granted"}),(r=o==null?void 0:o.googleAnalytics)==null?void 0:r.trackingID}function Li(e,o){var t;return!o||!o.googleAnalytics||!_i(o)||e.preview||e.mode!=="public-content"&&!((t=o==null?void 0:o.googleAnalytics)!=null&&t.trackingPrivateViews)}c();function ym(e){We({type:"palette_search",length:e.query.text.length})}function vm(e){Mr(e.position?null:"palette",[!!e.position])}var Vl={onTypeInSearch:ym,useOnPaletteView:vm};c();var Ou=T(Wl(),1);c();c();c();c();function He(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Ul=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Di=function(){return Math.random().toString(36).substring(7).split("").join(".")},zl={INIT:"@@redux/INIT"+Di(),REPLACE:"@@redux/REPLACE"+Di(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Di()}};function Tm(e){if(typeof e!="object"||e===null)return!1;for(var o=e;Object.getPrototypeOf(o)!==null;)o=Object.getPrototypeOf(o);return Object.getPrototypeOf(e)===o}function Ai(e,o,t){var r;if(typeof o=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(He(0));if(typeof o=="function"&&typeof t>"u"&&(t=o,o=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(He(1));return t(Ai)(e,o)}if(typeof e!="function")throw new Error(He(2));var n=e,i=o,a=[],s=a,l=!1;function u(){s===a&&(s=a.slice())}function d(){if(l)throw new Error(He(3));return i}function p(g){if(typeof g!="function")throw new Error(He(4));if(l)throw new Error(He(5));var C=!0;return u(),s.push(g),function(){if(!!C){if(l)throw new Error(He(6));C=!1,u();var P=s.indexOf(g);s.splice(P,1),a=null}}}function m(g){if(!Tm(g))throw new Error(He(7));if(typeof g.type>"u")throw new Error(He(8));if(l)throw new Error(He(9));try{l=!0,i=n(i,g)}finally{l=!1}for(var C=a=s,v=0;v<C.length;v++){var P=C[v];P()}return g}function b(g){if(typeof g!="function")throw new Error(He(10));n=g,m({type:zl.REPLACE})}function w(){var g,C=p;return g={subscribe:function(P){if(typeof P!="object"||P===null)throw new Error(He(11));function I(){P.next&&P.next(d())}I();var B=C(I);return{unsubscribe:B}}},g[Ul]=function(){return this},g}return m({type:zl.INIT}),r={dispatch:m,subscribe:p,getState:d,replaceReducer:b},r[Ul]=w,r}c();c();c();c();function jl(e,o,t){return o.split(".").reduce((r,n)=>r&&r[n]?r[n]:t||null,e)}function Gl(e,o){return e.filter(t=>t!==o)}function Kr(e){return typeof e=="object"}function ql(e,o){let t=new Map,r=i=>{t.set(i,t.has(i)?t.get(i)+1:1)};e.forEach(r),o.forEach(r);let n=[];return t.forEach((i,a)=>{i===1&&n.push(a)}),n}function Xl(e,o){return e.filter(t=>o.indexOf(t)>-1)}c();c();var ao="dnd-core/INIT_COORDS",gt="dnd-core/BEGIN_DRAG",so="dnd-core/PUBLISH_DRAG_SOURCE",yt="dnd-core/HOVER",vt="dnd-core/DROP",bt="dnd-core/END_DRAG";function Mi(e,o){return{type:ao,payload:{sourceClientOffset:o||null,clientOffset:e||null}}}var xm={type:ao,payload:{clientOffset:null,sourceClientOffset:null}};function Yl(e){return function(t=[],r={publishSource:!0}){let{publishSource:n=!0,clientOffset:i,getSourceClientOffset:a}=r,s=e.getMonitor(),l=e.getRegistry();e.dispatch(Mi(i)),km(t,s,l);let u=Im(t,s);if(u==null){e.dispatch(xm);return}let d=null;if(i){if(!a)throw new Error("getSourceClientOffset must be defined");Em(a),d=a(u)}e.dispatch(Mi(i,d));let m=l.getSource(u).beginDrag(s,u);if(m==null)return;Om(m),l.pinSource(u);let b=l.getSourceType(u);return{type:gt,payload:{itemType:b,item:m,sourceId:u,clientOffset:i||null,sourceClientOffset:d||null,isSourcePublic:!!n}}}}function km(e,o,t){F(!o.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(r){F(t.getSource(r),"Expected sourceIds to be registered.")})}function Em(e){F(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Om(e){F(Kr(e),"Item must be an object.")}function Im(e,o){let t=null;for(let r=e.length-1;r>=0;r--)if(o.canDragSource(e[r])){t=e[r];break}return t}c();function _m(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}function Lm(e){for(var o=1;o<arguments.length;o++){var t=arguments[o]!=null?arguments[o]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.forEach(function(n){_m(e,n,t[n])})}return e}function Kl(e){return function(t={}){let r=e.getMonitor(),n=e.getRegistry();Dm(r),Nm(r).forEach((a,s)=>{let l=Am(a,s,n,r),u={type:vt,payload:{dropResult:Lm({},t,l)}};e.dispatch(u)})}}function Dm(e){F(e.isDragging(),"Cannot call drop while not dragging."),F(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function Am(e,o,t,r){let n=t.getTarget(e),i=n?n.drop(r,e):void 0;return Mm(i),typeof i>"u"&&(i=o===0?{}:r.getDropResult()),i}function Mm(e){F(typeof e>"u"||Kr(e),"Drop result must either be an object or undefined.")}function Nm(e){let o=e.getTargetIds().filter(e.canDropOnTarget,e);return o.reverse(),o}c();function $l(e){return function(){let t=e.getMonitor(),r=e.getRegistry();Vm(t);let n=t.getSourceId();return n!=null&&(r.getSource(n,!0).endDrag(t,n),r.unpinSource()),{type:bt}}}function Vm(e){F(e.isDragging(),"Cannot call endDrag while not dragging.")}c();c();function Ho(e,o){return o===null?e===null:Array.isArray(e)?e.some(t=>t===o):e===o}function Zl(e){return function(t,{clientOffset:r}={}){Hm(t);let n=t.slice(0),i=e.getMonitor(),a=e.getRegistry(),s=i.getItemType();return Bm(n,a,s),Fm(n,i,a),Wm(n,i,a),{type:yt,payload:{targetIds:n,clientOffset:r||null}}}}function Hm(e){F(Array.isArray(e),"Expected targetIds to be an array.")}function Fm(e,o,t){F(o.isDragging(),"Cannot call hover while not dragging."),F(!o.didDrop(),"Cannot call hover after drop.");for(let r=0;r<e.length;r++){let n=e[r];F(e.lastIndexOf(n)===r,"Expected targetIds to be unique in the passed array.");let i=t.getTarget(n);F(i,"Expected targetIds to be registered.")}}function Bm(e,o,t){for(let r=e.length-1;r>=0;r--){let n=e[r],i=o.getTargetType(n);Ho(i,t)||e.splice(r,1)}}function Wm(e,o,t){e.forEach(function(r){t.getTarget(r).hover(o,r)})}c();function Jl(e){return function(){if(e.getMonitor().isDragging())return{type:so}}}function Ql(e){return{beginDrag:Yl(e),publishDragSource:Jl(e),hover:Zl(e),drop:Kl(e),endDrag:$l(e)}}var $r=class{receiveBackend(o){this.backend=o}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){let o=this,{dispatch:t}=this.store;function r(i){return(...a)=>{let s=i.apply(o,a);typeof s<"u"&&t(s)}}let n=Ql(this);return Object.keys(n).reduce((i,a)=>{let s=n[a];return i[a]=r(s),i},{})}dispatch(o){this.store.dispatch(o)}constructor(o,t){this.isSetUp=!1,this.handleRefCountChange=()=>{let r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=o,this.monitor=t,o.subscribe(this.handleRefCountChange)}};c();c();function Um(e,o){return{x:e.x+o.x,y:e.y+o.y}}function eu(e,o){return{x:e.x-o.x,y:e.y-o.y}}function tu(e){let{clientOffset:o,initialClientOffset:t,initialSourceClientOffset:r}=e;return!o||!t||!r?null:eu(Um(o,r),t)}function ou(e){let{clientOffset:o,initialClientOffset:t}=e;return!o||!t?null:eu(o,t)}c();var co=[],Zr=[];co.__IS_NONE__=!0;Zr.__IS_ALL__=!0;function ru(e,o){return e===co?!1:e===Zr||typeof o>"u"?!0:Xl(o,e).length>0}var Jr=class{subscribeToStateChange(o,t={}){let{handlerIds:r}=t;F(typeof o=="function","listener must be a function."),F(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let n=this.store.getState().stateId,i=()=>{let a=this.store.getState(),s=a.stateId;try{s===n||s===n+1&&!ru(a.dirtyHandlerIds,r)||o()}finally{n=s}};return this.store.subscribe(i)}subscribeToOffsetChange(o){F(typeof o=="function","listener must be a function.");let t=this.store.getState().dragOffset,r=()=>{let n=this.store.getState().dragOffset;n!==t&&(t=n,o())};return this.store.subscribe(r)}canDragSource(o){if(!o)return!1;let t=this.registry.getSource(o);return F(t,`Expected to find a valid source. sourceId=${o}`),this.isDragging()?!1:t.canDrag(this,o)}canDropOnTarget(o){if(!o)return!1;let t=this.registry.getTarget(o);if(F(t,`Expected to find a valid target. targetId=${o}`),!this.isDragging()||this.didDrop())return!1;let r=this.registry.getTargetType(o),n=this.getItemType();return Ho(r,n)&&t.canDrop(this,o)}isDragging(){return Boolean(this.getItemType())}isDraggingSource(o){if(!o)return!1;let t=this.registry.getSource(o,!0);if(F(t,`Expected to find a valid source. sourceId=${o}`),!this.isDragging()||!this.isSourcePublic())return!1;let r=this.registry.getSourceType(o),n=this.getItemType();return r!==n?!1:t.isDragging(this,o)}isOverTarget(o,t={shallow:!1}){if(!o)return!1;let{shallow:r}=t;if(!this.isDragging())return!1;let n=this.registry.getTargetType(o),i=this.getItemType();if(i&&!Ho(n,i))return!1;let a=this.getTargetIds();if(!a.length)return!1;let s=a.indexOf(o);return r?s===a.length-1:s>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return tu(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return ou(this.store.getState().dragOffset)}constructor(o,t){this.store=o,this.registry=t}};c();c();c();c();c();var nu=typeof window<"u"?window:self,iu=nu.MutationObserver||nu.WebKitMutationObserver;function Ni(e){return function(){let t=setTimeout(n,0),r=setInterval(n,50);function n(){clearTimeout(t),clearInterval(r),e()}}}function zm(e){let o=1,t=new iu(e),r=document.createTextNode("");return t.observe(r,{characterData:!0}),function(){o=-o,r.data=o}}var au=typeof iu=="function"?zm:Ni;var Qr=class{enqueueTask(o){let{queue:t,requestFlush:r}=this;t.length||(r(),this.flushing=!0),t[t.length]=o}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{let{queue:o}=this;for(;this.index<o.length;){let t=this.index;if(this.index++,o[t].call(),this.index>this.capacity){for(let r=0,n=o.length-this.index;r<n;r++)o[r]=o[r+this.index];o.length-=this.index,this.index=0}}o.length=0,this.index=0,this.flushing=!1},this.registerPendingError=o=>{this.pendingErrors.push(o),this.requestErrorThrow()},this.requestFlush=au(this.flush),this.requestErrorThrow=Ni(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}};c();c();var en=class{call(){try{this.task&&this.task()}catch(o){this.onError(o)}finally{this.task=null,this.release(this)}}constructor(o,t){this.onError=o,this.release=t,this.task=null}};var tn=class{create(o){let t=this.freeTasks,r=t.length?t.pop():new en(this.onError,n=>t[t.length]=n);return r.task=o,r}constructor(o){this.onError=o,this.freeTasks=[]}};var su=new Qr,jm=new tn(su.registerPendingError);function cu(e){su.enqueueTask(jm.create(e))}c();c();var Fo="dnd-core/ADD_SOURCE",Bo="dnd-core/ADD_TARGET",Wo="dnd-core/REMOVE_SOURCE",Mt="dnd-core/REMOVE_TARGET";function lu(e){return{type:Fo,payload:{sourceId:e}}}function uu(e){return{type:Bo,payload:{targetId:e}}}function du(e){return{type:Wo,payload:{sourceId:e}}}function fu(e){return{type:Mt,payload:{targetId:e}}}c();function pu(e){F(typeof e.canDrag=="function","Expected canDrag to be a function."),F(typeof e.beginDrag=="function","Expected beginDrag to be a function."),F(typeof e.endDrag=="function","Expected endDrag to be a function.")}function mu(e){F(typeof e.canDrop=="function","Expected canDrop to be a function."),F(typeof e.hover=="function","Expected hover to be a function."),F(typeof e.drop=="function","Expected beginDrag to be a function.")}function on(e,o){if(o&&Array.isArray(e)){e.forEach(t=>on(t,!1));return}F(typeof e=="string"||typeof e=="symbol",o?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}c();var _e;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(_e||(_e={}));c();var Gm=0;function hu(){return Gm++}function qm(e){let o=hu().toString();switch(e){case _e.SOURCE:return`S${o}`;case _e.TARGET:return`T${o}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function gu(e){switch(e[0]){case"S":return _e.SOURCE;case"T":return _e.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function yu(e,o){let t=e.entries(),r=!1;do{let{done:n,value:[,i]}=t.next();if(i===o)return!0;r=!!n}while(!r);return!1}var rn=class{addSource(o,t){on(o),pu(t);let r=this.addHandler(_e.SOURCE,o,t);return this.store.dispatch(lu(r)),r}addTarget(o,t){on(o,!0),mu(t);let r=this.addHandler(_e.TARGET,o,t);return this.store.dispatch(uu(r)),r}containsHandler(o){return yu(this.dragSources,o)||yu(this.dropTargets,o)}getSource(o,t=!1){return F(this.isSourceId(o),"Expected a valid source ID."),t&&o===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(o)}getTarget(o){return F(this.isTargetId(o),"Expected a valid target ID."),this.dropTargets.get(o)}getSourceType(o){return F(this.isSourceId(o),"Expected a valid source ID."),this.types.get(o)}getTargetType(o){return F(this.isTargetId(o),"Expected a valid target ID."),this.types.get(o)}isSourceId(o){return gu(o)===_e.SOURCE}isTargetId(o){return gu(o)===_e.TARGET}removeSource(o){F(this.getSource(o),"Expected an existing source."),this.store.dispatch(du(o)),cu(()=>{this.dragSources.delete(o),this.types.delete(o)})}removeTarget(o){F(this.getTarget(o),"Expected an existing target."),this.store.dispatch(fu(o)),this.dropTargets.delete(o),this.types.delete(o)}pinSource(o){let t=this.getSource(o);F(t,"Expected an existing source."),this.pinnedSourceId=o,this.pinnedSource=t}unpinSource(){F(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(o,t,r){let n=qm(o);return this.types.set(n,t),o===_e.SOURCE?this.dragSources.set(n,r):o===_e.TARGET&&this.dropTargets.set(n,r),n}constructor(o){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=o}};c();c();c();var Xm=(e,o)=>e===o;function vu(e,o){return!e&&!o?!0:!e||!o?!1:e.x===o.x&&e.y===o.y}function bu(e,o,t=Xm){if(e.length!==o.length)return!1;for(let r=0;r<e.length;++r)if(!t(e[r],o[r]))return!1;return!0}function Su(e=co,o){switch(o.type){case yt:break;case Fo:case Bo:case Mt:case Wo:return co;case gt:case so:case bt:case vt:default:return Zr}let{targetIds:t=[],prevTargetIds:r=[]}=o.payload,n=ql(t,r);if(!(n.length>0||!bu(t,r)))return co;let a=r[r.length-1],s=t[t.length-1];return a!==s&&(a&&n.push(a),s&&n.push(s)),n}c();function Ym(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}function Km(e){for(var o=1;o<arguments.length;o++){var t=arguments[o]!=null?arguments[o]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.forEach(function(n){Ym(e,n,t[n])})}return e}var wu={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Cu(e=wu,o){let{payload:t}=o;switch(o.type){case ao:case gt:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case yt:return vu(e.clientOffset,t.clientOffset)?e:Km({},e,{clientOffset:t.clientOffset});case bt:case vt:return wu;default:return e}}c();function $m(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}function lo(e){for(var o=1;o<arguments.length;o++){var t=arguments[o]!=null?arguments[o]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.forEach(function(n){$m(e,n,t[n])})}return e}var Zm={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Ru(e=Zm,o){let{payload:t}=o;switch(o.type){case gt:return lo({},e,{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case so:return lo({},e,{isSourcePublic:!0});case yt:return lo({},e,{targetIds:t.targetIds});case Mt:return e.targetIds.indexOf(t.targetId)===-1?e:lo({},e,{targetIds:Gl(e.targetIds,t.targetId)});case vt:return lo({},e,{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case bt:return lo({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}c();function Pu(e=0,o){switch(o.type){case Fo:case Bo:return e+1;case Wo:case Mt:return e-1;default:return e}}c();function Tu(e=0){return e+1}function Jm(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}function Qm(e){for(var o=1;o<arguments.length;o++){var t=arguments[o]!=null?arguments[o]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.forEach(function(n){Jm(e,n,t[n])})}return e}function xu(e={},o){return{dirtyHandlerIds:Su(e.dirtyHandlerIds,{type:o.type,payload:Qm({},o.payload,{prevTargetIds:jl(e,"dragOperation.targetIds",[])})}),dragOffset:Cu(e.dragOffset,o),refCount:Pu(e.refCount,o),dragOperation:Ru(e.dragOperation,o),stateId:Tu(e.stateId)}}function ku(e,o=void 0,t={},r=!1){let n=eh(r),i=new Jr(n,new rn(n)),a=new $r(n,i),s=e(a,o,t);return a.receiveBackend(s),a}function eh(e){let o=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Ai(xu,e&&o&&o({name:"dnd-core",instanceId:"dnd-core"}))}var an=T(x(),1);function th(e,o){if(e==null)return{};var t=oh(e,o),r,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(o.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(t[r]=e[r]))}return t}function oh(e,o){if(e==null)return{};var t={},r=Object.keys(e),n,i;for(i=0;i<r.length;i++)n=r[i],!(o.indexOf(n)>=0)&&(t[n]=e[n]);return t}var Eu=0,nn=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),Iu=(0,an.memo)(function(o){var{children:t}=o,r=th(o,["children"]);let[n,i]=rh(r);return(0,an.useEffect)(()=>{if(i){let a=_u();return++Eu,()=>{--Eu===0&&(a[nn]=null)}}},[]),(0,Ou.jsx)(Rc.Provider,{value:n,children:t})});function rh(e){if("manager"in e)return[{dragDropManager:e.manager},!1];let o=nh(e.backend,e.context,e.options,e.debugMode),t=!e.context;return[o,t]}function nh(e,o=_u(),t,r){let n=o;return n[nn]||(n[nn]={dragDropManager:ku(e,o,t,r)}),n[nn]}function _u(){return window}c();var ih=hr({key:"firestoreReacheable",default:!0,effects:[e=>{typeof window>"u"||fetch("https://firestore.googleapis.com/$discovery/rest").catch(()=>{e.setSelf(!1)})}]});function Lu(){return _o(ih)}c();var Du=T(x());var ah=Ve("app:events"),sh=e=>(e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent));function ch(){let e=document.cookie?document.cookie.split("; "):[],o={};for(let t=0;t<e.length;t++){let r=e[t].split("="),n=r.slice(1).join("=");try{let i=decodeURIComponent(r[0]);o[i]=sh(n)}catch(i){ah.warning(`Couldn't parse cookie ${e[t]}. Error: `,i)}}return o}function Au(e,o){return Du.useEffect(()=>{lh(e,o)},[e.key,o]),null}async function lh(e,o){if(!e.integrations||!o)return;let t=await Cs(),r=ch(),n=window.location.href,i=document.referrer,a=window.navigator.userAgent;(await hc()).analytics.trackViewInSpaceById(e.key,{pageId:o,visitor:{anonymousId:t,cookies:r,userAgent:a},url:n,referrer:i})}c();var uo=hr({key:"mobileToCOpenedAtom",default:!1});c();var sn=T(x());function Mu(e){var n,i;let o=sn.useContext(mt),t=o.preview||o.mode!=="public-content"||!((n=e==null?void 0:e.intercom)!=null&&n.enabled)||(i=e==null?void 0:e.intercom)==null?void 0:i.appID,r=Gc();return at(a=>{r&&t&&a.writeAsync({type:"script",src:`https://widget.intercom.io/widget/${t}`,onLoad:async()=>{window.Intercom&&window.Intercom("boot",{app_id:t})}})}),sn.useEffect(()=>()=>{!window.Intercom||(window.Intercom("shutdown"),window.Intercom=void 0)},[]),null}c();var Nu=T(x());function Vu(e){return Nu.createElement(Iu,{backend:Dc},e.children)}c();function Hu(e,o,t=void 0){switch(o){case"light":case"dark":return{...e,color:o};case"none":return e;case"bold":return{...e,color:ks(t||rt.PRIMARY)};default:Xt(o)}}var bP={none:A.create({spaceHeader:e=>({borderBottomWidth:1,borderBottomColor:e.colors.border.main,backgroundColor:e.colors.background.main,zIndex:1})}),light:A.create({spaceHeader:e=>({borderBottomWidth:1,borderBottomColor:e.colors.border.main,backgroundColor:e.colors.background.main,zIndex:1,position:"sticky",top:0})}),dark:A.create({spaceHeader:e=>({borderBottomWidth:1,borderBottomColor:e.colors.border.main,backgroundColor:e.colors.background.main,zIndex:1,position:"sticky",top:0})}),bold:A.create({spaceHeader:e=>({borderBottomWidth:1,borderBottomColor:e.colors.primary.main,backgroundColor:e.colors.primary.main,zIndex:1,position:"sticky",top:0})})};c();var cn=T(x());var Uo=cn.forwardRef(function(o,t){let{contentRef:r,space:n,revision:i,style:a,kind:s="default",...l}=o,u=Jt(r,{space:i.space,revision:i.key});return cn.createElement(Or,{ref:t,url:u.href,onPress:d=>{d.nativeEvent.metaKey||d.nativeEvent.ctrlKey||(d.preventDefault(),u.open())},kind:s,sameWebTab:!1,style:[fi.Body,fi.SemiBold,a],numberOfLines:2,ellipsizeMode:"tail",accessibilityLabel:o.title,...l},o.title)});c();var Fu=T(x());X();function Bu(e){return Fu.createElement(J,{...e})}c();var ln=T(x());function Wu(e){let{children:o,statusCode:t}=e,r=vc();return r.staticContext&&(r.staticContext.statusCode=t),ln.createElement(ln.Fragment,null,o)}c();var Te=T(x());c();c();c();var ud=T(ld(),1),{__extends:NP,__assign:Nt,__rest:Hi,__decorate:VP,__param:HP,__metadata:FP,__awaiter:BP,__generator:WP,__exportStar:UP,__createBinding:zP,__values:jP,__read:GP,__spread:qP,__spreadArrays:dd,__spreadArray:XP,__await:YP,__asyncGenerator:KP,__asyncDelegator:$P,__asyncValues:ZP,__makeTemplateObject:JP,__importStar:QP,__importDefault:eT,__classPrivateFieldGet:tT,__classPrivateFieldSet:oT,__classPrivateFieldIn:rT}=ud.default;var Jo=T(x());c();var et=T(x());c();var Re=T(x());c();var Vt="right-scroll-bar-position",Ht="width-before-scroll-bar",Fi="with-scroll-bars-hidden",Bi="--removed-body-scroll-bar-size";c();c();function fd(e,o){return typeof e=="function"?e(o):e&&(e.current=o),e}c();var pd=T(x());function md(e,o){var t=(0,pd.useState)(function(){return{value:e,callback:o,facade:{get current(){return t.value},set current(r){var n=t.value;n!==r&&(t.value=r,t.callback(r,n))}}}})[0];return t.callback=o,t.facade}c();function zo(e,o){return md(o||null,function(t){return e.forEach(function(r){return fd(r,t)})})}c();c();c();function hd(e){return e}function gd(e,o){o===void 0&&(o=hd);var t=[],r=!1,n={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:e},useMedium:function(i){var a=o(i,r);return t.push(a),function(){t=t.filter(function(s){return s!==a})}},assignSyncMedium:function(i){for(r=!0;t.length;){var a=t;t=[],a.forEach(i)}t={push:function(s){return i(s)},filter:function(){return t}}},assignMedium:function(i){r=!0;var a=[];if(t.length){var s=t;t=[],s.forEach(i),a=t}var l=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),t={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),t}}}};return n}function jo(e,o){return o===void 0&&(o=hd),gd(e,o)}function Ft(e){e===void 0&&(e={});var o=gd(null);return o.options=$e({async:!0,ssr:!1},e),o}c();var yd=T(x()),vd=function(e){var o=e.sideCar,t=dr(e,["sideCar"]);if(!o)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=o.read();if(!r)throw new Error("Sidecar medium not found");return yd.createElement(r,$e({},t))};vd.isSideCarExport=!0;function Bt(e,o){return e.useMedium(o),vd}var pn=Ft();var Wi=function(){},mn=Re.forwardRef(function(e,o){var t=Re.useRef(null),r=Re.useState({onScrollCapture:Wi,onWheelCapture:Wi,onTouchMoveCapture:Wi}),n=r[0],i=r[1],a=e.forwardProps,s=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,p=e.shards,m=e.sideCar,b=e.noIsolation,w=e.inert,g=e.allowPinchZoom,C=e.as,v=C===void 0?"div":C,P=dr(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),I=m,B=zo([t,o]),q=$e($e({},P),n);return Re.createElement(Re.Fragment,null,d&&Re.createElement(I,{sideCar:pn,removeScrollBar:u,shards:p,noIsolation:b,inert:w,setCallbacks:i,allowPinchZoom:!!g,lockRef:t}),a?Re.cloneElement(Re.Children.only(s),$e($e({},q),{ref:B})):Re.createElement(v,$e({},q,{className:l,ref:B}),s))});mn.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};mn.classNames={fullWidth:Ht,zeroRight:Vt};c();c();c();function po(){return po=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},po.apply(this,arguments)}var re=T(x()),KT=T(gi());c();var Go="data-focus-lock",hn="data-focus-lock-disabled",bd="data-no-focus-lock",Sd="data-autofocus-inside",wd="data-no-autofocus";var Pd=T(x());c();var mo=T(x()),WT=T(gi()),ho={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},Cd=function(o){var t=o.children;return mo.createElement(mo.Fragment,null,mo.createElement("div",{key:"guard-first","data-focus-guard":!0,"data-focus-auto-guard":!0,style:ho}),t,t&&mo.createElement("div",{key:"guard-last","data-focus-guard":!0,"data-focus-auto-guard":!0,style:ho}))};Cd.propTypes={};Cd.defaultProps={children:null};c();var gn=jo({},function(e){var o=e.target,t=e.currentTarget;return{target:o,currentTarget:t}}),yn=jo(),Rd=jo(),vn=Ft({async:!0});var dh=[],Ui=re.forwardRef(function(o,t){var r,n=re.useState(),i=n[0],a=n[1],s=re.useRef(),l=re.useRef(!1),u=re.useRef(null),d=o.children,p=o.disabled,m=o.noFocusGuards,b=o.persistentFocus,w=o.crossFrame,g=o.autoFocus,C=o.allowTextSelection,v=o.group,P=o.className,I=o.whiteList,B=o.hasPositiveIndices,q=o.shards,se=q===void 0?dh:q,M=o.as,j=M===void 0?"div":M,te=o.lockProps,ge=te===void 0?{}:te,D=o.sideCar,U=o.returnFocus,Ae=o.focusOptions,ye=o.onActivation,qe=o.onDeactivation,Zn=re.useState({}),Jn=Zn[0],Qn=re.useCallback(function(){u.current=u.current||document&&document.activeElement,s.current&&ye&&ye(s.current),l.current=!0},[ye]),ei=re.useCallback(function(){l.current=!1,qe&&qe(s.current)},[qe]);(0,Pd.useEffect)(function(){p||(u.current=null)},[]);var ti=re.useCallback(function(Xe){var Rt=u.current;if(Rt&&Rt.focus){var S=typeof U=="function"?U(Rt):U;if(S){var O=typeof S=="object"?S:void 0;u.current=null,Xe?Promise.resolve().then(function(){return Rt.focus(O)}):Rt.focus(O)}}},[U]),ir=re.useCallback(function(Xe){l.current&&gn.useMedium(Xe)},[]),oi=yn.useMedium,ri=re.useCallback(function(Xe){s.current!==Xe&&(s.current=Xe,a(Xe))},[]),ar=po((r={},r[hn]=p&&"disabled",r[Go]=v,r),ge),Eo=m!==!0,ni=Eo&&m!=="tail",ii=zo([t,ri]);return re.createElement(re.Fragment,null,Eo&&[re.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:p?-1:0,style:ho}),B?re.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:p?-1:1,style:ho}):null],!p&&re.createElement(D,{id:Jn,sideCar:vn,observed:i,disabled:p,persistentFocus:b,crossFrame:w,autoFocus:g,whiteList:I,shards:se,onActivation:Qn,onDeactivation:ei,returnFocus:ti,focusOptions:Ae}),re.createElement(j,po({ref:ii},ar,{className:P,onBlur:oi,onFocus:ir}),d),ni&&re.createElement("div",{"data-focus-guard":!0,tabIndex:p?-1:0,style:ho}))});Ui.propTypes={};Ui.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};var Td=Ui;c();function zi(e){var o=window,t=o.setImmediate;typeof t<"u"?t(e):setTimeout(e,1)}var xd=Td;c();var bn=Ft(),Sn="data-focus-on-hidden";var kd=et.forwardRef(function(e,o){var t=et.useState(!1),r=t[0],n=t[1],i=e.children,a=e.autoFocus,s=e.shards,l=e.enabled,u=l===void 0?!0:l,d=e.scrollLock,p=d===void 0?!0:d,m=e.focusLock,b=m===void 0?!0:m,w=e.returnFocus,g=w===void 0?!0:w,C=e.inert,v=e.allowPinchZoom,P=e.sideCar,I=e.className,B=e.shouldIgnore,q=e.style,se=e.as,M=Hi(e,["children","autoFocus","shards","enabled","scrollLock","focusLock","returnFocus","inert","allowPinchZoom","sideCar","className","shouldIgnore","style","as"]),j=P,te=r.onActivation,ge=r.onDeactivation,D=Hi(r,["onActivation","onDeactivation"]),U=Nt(Nt({},D),{sideCar:P,shards:s,allowPinchZoom:v,as:se,inert:C,style:q,enabled:u&&p});return et.createElement(et.Fragment,null,et.createElement(xd,{ref:o,sideCar:P,disabled:!(r&&u&&b),returnFocus:g,autoFocus:a,shards:s,onActivation:te,onDeactivation:ge,className:I,whiteList:B,lockProps:U,as:mn},i),u&&et.createElement(j,Nt({},M,{sideCar:bn,setLockProps:n,shards:s})))});c();c();c();var Xd=T(x()),fE=T(gi());c();c();c();function qo(e,o){return qo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},qo(e,o)}function ji(e,o){e.prototype=Object.create(o.prototype),e.prototype.constructor=e,qo(e,o)}c();function Gi(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}var wn=T(x());function fh(e,o){function t(r){return r.displayName||r.name||"Component"}return function(n){var i=[],a;function s(){a=e(i.map(function(u){return u.props})),o(a)}var l=function(u){ji(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return a};var p=d.prototype;return p.componentDidMount=function(){i.push(this),s()},p.componentDidUpdate=function(){s()},p.componentWillUnmount=function(){var b=i.indexOf(this);i.splice(b,1),s()},p.render=function(){return wn.default.createElement(n,this.props)},d}(wn.PureComponent);return Gi(l,"displayName","SideEffect("+t(n)+")"),l}}var Ed=fh;c();c();c();c();var Pe=function(e){for(var o=Array(e.length),t=0;t<e.length;++t)o[t]=e[t];return o},Xo=function(e){return Array.isArray(e)?e:[e]};c();var ph=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var o=window.getComputedStyle(e,null);return!o||!o.getPropertyValue?!1:o.getPropertyValue("display")==="none"||o.getPropertyValue("visibility")==="hidden"},Od=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},Id=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},mh=function(e,o){return!e||Id(e)||!ph(e)&&o(Od(e))},qi=function(e,o){var t=e.get(o);if(t!==void 0)return t;var r=mh(o,qi.bind(void 0,e));return e.set(o,r),r},hh=function(e,o){return e&&!Id(e)?yh(e)?o(Od(e)):!1:!0},Xi=function(e,o){var t=e.get(o);if(t!==void 0)return t;var r=hh(o,Xi.bind(void 0,e));return e.set(o,r),r},Yi=function(e){return e.dataset},gh=function(e){return e.tagName==="BUTTON"},_d=function(e){return e.tagName==="INPUT"},Ki=function(e){return _d(e)&&e.type==="radio"},Ld=function(e){return!((_d(e)||gh(e))&&(e.type==="hidden"||e.disabled))},yh=function(e){var o=e.getAttribute(wd);return![!0,"true",""].includes(o)},Yo=function(e){var o;return Boolean(e&&((o=Yi(e))===null||o===void 0?void 0:o.focusGuard))},go=function(e){return!Yo(e)},Dd=function(e){return Boolean(e)};c();var vh=function(e,o){var t=e.tabIndex-o.tabIndex,r=e.index-o.index;if(t){if(!e.tabIndex)return 1;if(!o.tabIndex)return-1}return t||r},$i=function(e,o,t){return Pe(e).map(function(r,n){return{node:r,index:n,tabIndex:t&&r.tabIndex===-1?(r.dataset||{}).focusGuard?0:-1:r.tabIndex}}).filter(function(r){return!o||r.tabIndex>=0}).sort(vh)};c();c();var Ad=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"];var Zi=Ad.join(","),bh="".concat(Zi,", [data-focus-guard]"),Md=function(e,o){var t;return Pe(((t=e.shadowRoot)===null||t===void 0?void 0:t.children)||e.children).reduce(function(r,n){return r.concat(n.matches(o?bh:Zi)?[n]:[],Md(n))},[])},Cn=function(e,o){return e.reduce(function(t,r){return t.concat(Md(r,o),r.parentNode?Pe(r.parentNode.querySelectorAll(Zi)).filter(function(n){return n===r}):[])},[])},Nd=function(e){var o=e.querySelectorAll("[".concat(Sd,"]"));return Pe(o).map(function(t){return Cn([t])}).reduce(function(t,r){return t.concat(r)},[])};var Ji=function(e,o){return Pe(e).filter(function(t){return qi(o,t)}).filter(function(t){return Ld(t)})},Qi=function(e,o){return o===void 0&&(o=new Map),Pe(e).filter(function(t){return Xi(o,t)})},Ko=function(e,o,t){return $i(Ji(Cn(e,t),o),!0,t)},ea=function(e,o){return $i(Ji(Cn(e),o),!1)},Vd=function(e,o){return Ji(Nd(e),o)},St=function(e,o){return e.shadowRoot?St(e.shadowRoot,o):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,o)?!0:Pe(e.children).some(function(t){return St(t,o)})};c();var Sh=function(e){for(var o=new Set,t=e.length,r=0;r<t;r+=1)for(var n=r+1;n<t;n+=1){var i=e[r].compareDocumentPosition(e[n]);(i&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&o.add(n),(i&Node.DOCUMENT_POSITION_CONTAINS)>0&&o.add(r)}return e.filter(function(a,s){return!o.has(s)})},Hd=function(e){return e.parentNode?Hd(e.parentNode):e},yo=function(e){var o=Xo(e);return o.filter(Boolean).reduce(function(t,r){var n=r.getAttribute(Go);return t.push.apply(t,n?Sh(Pe(Hd(r).querySelectorAll("[".concat(Go,'="').concat(n,'"]:not([').concat(hn,'="disabled"])')))):[r]),t},[])};c();var Fd=function(e){return e.activeElement?e.activeElement.shadowRoot?Fd(e.activeElement.shadowRoot):e.activeElement:void 0},vo=function(){return document.activeElement?document.activeElement.shadowRoot?Fd(document.activeElement.shadowRoot):document.activeElement:void 0};var wh=function(e){return e===document.activeElement},Ch=function(e){return Boolean(Pe(e.querySelectorAll("iframe")).some(function(o){return wh(o)}))},Rn=function(e){var o=document&&vo();return!o||o.dataset&&o.dataset.focusGuard?!1:yo(e).some(function(t){return St(t,o)||Ch(t)})};c();var ta=function(){var e=document&&vo();return e?Pe(document.querySelectorAll("[".concat(bd,"]"))).some(function(o){return St(o,e)}):!1};c();c();c();var Rh=function(e,o){return o.filter(Ki).filter(function(t){return t.name===e.name}).filter(function(t){return t.checked})[0]||e},Pn=function(e,o){return Ki(e)&&e.name?Rh(e,o):e},Bd=function(e){var o=new Set;return e.forEach(function(t){return o.add(Pn(t,e))}),e.filter(function(t){return o.has(t)})};c();var oa=function(e){return e[0]&&e.length>1?Pn(e[0],e):e[0]},ra=function(e,o){return e.length>1?e.indexOf(Pn(e[o],e)):o};var na="NEW_FOCUS",Wd=function(e,o,t,r){var n=e.length,i=e[0],a=e[n-1],s=Yo(t);if(!(t&&e.indexOf(t)>=0)){var l=t!==void 0?o.indexOf(t):-1,u=r?o.indexOf(r):l,d=r?e.indexOf(r):-1,p=l-u,m=o.indexOf(i),b=o.indexOf(a),w=Bd(o),g=t!==void 0?w.indexOf(t):-1,C=g-(r?w.indexOf(r):l),v=ra(e,0),P=ra(e,n-1);if(l===-1||d===-1)return na;if(!p&&d>=0)return d;if(l<=m&&s&&Math.abs(p)>1)return P;if(l>=b&&s&&Math.abs(p)>1)return v;if(p&&Math.abs(C)>1)return d;if(l<=m)return P;if(l>b)return v;if(p)return Math.abs(p)>1?d:(n+d+p)%n}};c();var Ph=function(e){return function(o){var t,r=(t=Yi(o))===null||t===void 0?void 0:t.autofocus;return o.autofocus||r!==void 0&&r!=="false"||e.indexOf(o)>=0}},Ud=function(e,o,t){var r=e.map(function(i){var a=i.node;return a}),n=Qi(r.filter(Ph(t)));return n&&n.length?oa(n):oa(Qi(o))};c();var aa=function(e,o){return o===void 0&&(o=[]),o.push(e),e.parentNode&&aa(e.parentNode.host||e.parentNode,o),o},ia=function(e,o){for(var t=aa(e),r=aa(o),n=0;n<t.length;n+=1){var i=t[n];if(r.indexOf(i)>=0)return i}return!1},Tn=function(e,o,t){var r=Xo(e),n=Xo(o),i=r[0],a=!1;return n.filter(Boolean).forEach(function(s){a=ia(a||s,s)||a,t.filter(Boolean).forEach(function(l){var u=ia(i,l);u&&(!a||St(u,a)?a=u:a=ia(u,a))})}),a},zd=function(e,o){return e.reduce(function(t,r){return t.concat(Vd(r,o))},[])};var Th=function(e,o){var t=new Map;return o.forEach(function(r){return t.set(r.node,r)}),e.map(function(r){return t.get(r)}).filter(Dd)},jd=function(e,o){var t=document&&vo(),r=yo(e).filter(go),n=Tn(t||e,e,r),i=new Map,a=ea(r,i),s=Ko(r,i).filter(function(m){var b=m.node;return go(b)});if(!(!s[0]&&(s=a,!s[0]))){var l=ea([n],i).map(function(m){var b=m.node;return b}),u=Th(l,s),d=u.map(function(m){var b=m.node;return b}),p=Wd(d,l,t,o);return p===na?{node:Ud(a,d,zd(r,i))}:p===void 0?p:u[p]}};c();var sa=function(e){var o=yo(e).filter(go),t=Tn(e,e,o),r=new Map,n=Ko([t],r,!0),i=Ko(o,r).filter(function(a){var s=a.node;return go(s)}).map(function(a){var s=a.node;return s});return n.map(function(a){var s=a.node,l=a.index;return{node:s,index:l,lockItem:i.indexOf(s)>=0,guard:Yo(s)}})};c();var xh=function(e,o){"focus"in e&&e.focus(o),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus()},ca=0,la=!1,Gd=function(e,o,t){t===void 0&&(t={});var r=jd(e,o);if(!la&&r){if(ca>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),la=!0,setTimeout(function(){la=!1},1);return}ca++,xh(r.node,t.focusOptions),ca--}};var ua=Gd;var kh=function(){return document&&document.activeElement===document.body},Eh=function(){return kh()||ta()},So=null,bo=null,wo=null,$o=!1,Oh=function(){return!0},Ih=function(o){return(So.whiteList||Oh)(o)},_h=function(o,t){wo={observerNode:o,portaledElement:t}},Lh=function(o){return wo&&wo.portaledElement===o};function qd(e,o,t,r){var n=null,i=e;do{var a=r[i];if(a.guard)a.node.dataset.focusAutoGuard&&(n=a);else if(a.lockItem){if(i!==e)return;n=null}else break}while((i+=t)!==o);n&&(n.node.tabIndex=0)}var Dh=function(o){return o&&"current"in o?o.current:o},Ah=function(o){return o?Boolean($o):$o==="meanwhile"},Mh=function e(o,t,r){return t&&(t.host===o&&(!t.activeElement||r.contains(t.activeElement))||t.parentNode&&e(o,t.parentNode,r))},Nh=function(o,t){return t.some(function(r){return Mh(o,r,r)})},xn=function(){var o=!1;if(So){var t=So,r=t.observed,n=t.persistentFocus,i=t.autoFocus,a=t.shards,s=t.crossFrame,l=t.focusOptions,u=r||wo&&wo.portaledElement,d=document&&document.activeElement;if(u){var p=[u].concat(a.map(Dh).filter(Boolean));if((!d||Ih(d))&&(n||Ah(s)||!Eh()||!bo&&i)&&(u&&!(Rn(p)||d&&Nh(d,p)||Lh(d,u))&&(document&&!bo&&d&&!i?(d.blur&&d.blur(),document.body.focus()):(o=ua(p,bo,{focusOptions:l}),wo={})),$o=!1,bo=document&&document.activeElement),document){var m=document&&document.activeElement,b=sa(p),w=b.map(function(g){var C=g.node;return C}).indexOf(m);w>-1&&(b.filter(function(g){var C=g.guard,v=g.node;return C&&v.dataset.focusAutoGuard}).forEach(function(g){var C=g.node;return C.removeAttribute("tabIndex")}),qd(w,b.length,1,b),qd(w,-1,-1,b))}}}return o},Yd=function(o){xn()&&o&&(o.stopPropagation(),o.preventDefault())},kn=function(){return zi(xn)},Kd=function(o){var t=o.target,r=o.currentTarget;r.contains(t)||_h(r,t)},Vh=function(){return null},Hh=function(o){var t=o.children;return Xd.createElement("div",{onBlur:kn,onFocus:Kd},t)};Hh.propTypes={};var $d=function(){$o="just",setTimeout(function(){$o="meanwhile"},0)},Fh=function(){document.addEventListener("focusin",Yd),document.addEventListener("focusout",kn),window.addEventListener("blur",$d)},Bh=function(){document.removeEventListener("focusin",Yd),document.removeEventListener("focusout",kn),window.removeEventListener("blur",$d)};function Wh(e){return e.filter(function(o){var t=o.disabled;return!t})}function Uh(e){var o=e.slice(-1)[0];o&&!So&&Fh();var t=So,r=t&&o&&o.id===t.id;So=o,t&&!r&&(t.onDeactivation(),e.filter(function(n){var i=n.id;return i===t.id}).length||t.returnFocus(!o)),o?(bo=null,(!r||t.observed!==o.observed)&&o.onActivation(),xn(!0),zi(xn)):(Bh(),bo=null)}gn.assignSyncMedium(Kd);yn.assignMedium(kn);Rd.assignMedium(function(e){return e({moveFocusInside:ua,focusInside:Rn})});var Zd=Ed(Wh,Uh)(Vh);var RE=Bt(vn,Zd);c();c();var ne=T(x());c();c();var En=T(x());c();c();c();var ef=T(x());c();c();var Jd;var Qd=function(){if(Jd)return Jd;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zh(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var o=Qd();return o&&e.setAttribute("nonce",o),e}function jh(e,o){e.styleSheet?e.styleSheet.cssText=o:e.appendChild(document.createTextNode(o))}function Gh(e){var o=document.head||document.getElementsByTagName("head")[0];o.appendChild(e)}var da=function(){var e=0,o=null;return{add:function(t){e==0&&(o=zh())&&(jh(o,t),Gh(o)),e++},remove:function(){e--,!e&&o&&(o.parentNode&&o.parentNode.removeChild(o),o=null)}}};var fa=function(){var e=da();return function(o,t){ef.useEffect(function(){return e.add(o),function(){e.remove()}},[o&&t])}};var Wt=function(){var e=fa(),o=function(t){var r=t.styles,n=t.dynamic;return e(r,n),null};return o};c();var qh={left:0,top:0,right:0,gap:0},pa=function(e){return parseInt(e||"",10)||0},Xh=function(e){var o=window.getComputedStyle(document.body),t=o[e==="padding"?"paddingLeft":"marginLeft"],r=o[e==="padding"?"paddingTop":"marginTop"],n=o[e==="padding"?"paddingRight":"marginRight"];return[pa(t),pa(r),pa(n)]},ma=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return qh;var o=Xh(e),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:o[0],top:o[1],right:o[2],gap:Math.max(0,r-t+o[2]-o[0])}};var Yh=Wt(),Kh=function(e,o,t,r){var n=e.left,i=e.top,a=e.right,s=e.gap;return t===void 0&&(t="margin"),`
  .`.concat(Fi,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([o&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vt,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Ht,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Vt," .").concat(Vt,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ht," .").concat(Ht,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(Bi,": ").concat(s,`px;
  }
`)},ha=function(e){var o=e.noRelative,t=e.noImportant,r=e.gapMode,n=r===void 0?"margin":r,i=En.useMemo(function(){return ma(n)},[n]);return En.createElement(Yh,{styles:Kh(i,!o,n,t?"":"!important")})};c();var ga=!1;if(typeof window<"u")try{Zo=Object.defineProperty({},"passive",{get:function(){return ga=!0,!0}}),window.addEventListener("test",Zo,Zo),window.removeEventListener("test",Zo,Zo)}catch(e){ga=!1}var Zo,Ut=ga?{passive:!1}:!1;c();var $h=function(e){return e.tagName==="TEXTAREA"},tf=function(e,o){var t=window.getComputedStyle(e);return t[o]!=="hidden"&&!(t.overflowY===t.overflowX&&!$h(e)&&t[o]==="visible")},Zh=function(e){return tf(e,"overflowY")},Jh=function(e){return tf(e,"overflowX")},ya=function(e,o){var t=o;do{typeof ShadowRoot<"u"&&t instanceof ShadowRoot&&(t=t.host);var r=of(e,t);if(r){var n=rf(e,t),i=n[1],a=n[2];if(i>a)return!0}t=t.parentNode}while(t&&t!==document.body);return!1},Qh=function(e){var o=e.scrollTop,t=e.scrollHeight,r=e.clientHeight;return[o,t,r]},eg=function(e){var o=e.scrollLeft,t=e.scrollWidth,r=e.clientWidth;return[o,t,r]},of=function(e,o){return e==="v"?Zh(o):Jh(o)},rf=function(e,o){return e==="v"?Qh(o):eg(o)},tg=function(e,o){return e==="h"&&o==="rtl"?-1:1},nf=function(e,o,t,r,n){var i=tg(e,window.getComputedStyle(o).direction),a=i*r,s=t.target,l=o.contains(s),u=!1,d=a>0,p=0,m=0;do{var b=rf(e,s),w=b[0],g=b[1],C=b[2],v=g-C-i*w;(w||v)&&of(e,s)&&(p+=v,m+=w),s=s.parentNode}while(!l&&s!==document.body||l&&(o.contains(s)||o===s));return(d&&(n&&p===0||!n&&a>p)||!d&&(n&&m===0||!n&&-a>m))&&(u=!0),u};var On=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},af=function(e){return[e.deltaX,e.deltaY]},sf=function(e){return e&&"current"in e?e.current:e},og=function(e,o){return e[0]===o[0]&&e[1]===o[1]},rg=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ng=0,Co=[];function cf(e){var o=ne.useRef([]),t=ne.useRef([0,0]),r=ne.useRef(),n=ne.useState(ng++)[0],i=ne.useState(function(){return Wt()})[0],a=ne.useRef(e);ne.useEffect(function(){a.current=e},[e]),ne.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(n));var g=Ga([e.lockRef.current],(e.shards||[]).map(sf),!0).filter(Boolean);return g.forEach(function(C){return C.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),g.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(n))})}}},[e.inert,e.lockRef.current,e.shards]);var s=ne.useCallback(function(g,C){if("touches"in g&&g.touches.length===2)return!a.current.allowPinchZoom;var v=On(g),P=t.current,I="deltaX"in g?g.deltaX:P[0]-v[0],B="deltaY"in g?g.deltaY:P[1]-v[1],q,se=g.target,M=Math.abs(I)>Math.abs(B)?"h":"v";if("touches"in g&&M==="h"&&se.type==="range")return!1;var j=ya(M,se);if(!j)return!0;if(j?q=M:(q=M==="v"?"h":"v",j=ya(M,se)),!j)return!1;if(!r.current&&"changedTouches"in g&&(I||B)&&(r.current=q),!q)return!0;var te=r.current||q;return nf(te,C,g,te==="h"?I:B,!0)},[]),l=ne.useCallback(function(g){var C=g;if(!(!Co.length||Co[Co.length-1]!==i)){var v="deltaY"in C?af(C):On(C),P=o.current.filter(function(q){return q.name===C.type&&q.target===C.target&&og(q.delta,v)})[0];if(P&&P.should){C.cancelable&&C.preventDefault();return}if(!P){var I=(a.current.shards||[]).map(sf).filter(Boolean).filter(function(q){return q.contains(C.target)}),B=I.length>0?s(C,I[0]):!a.current.noIsolation;B&&C.cancelable&&C.preventDefault()}}},[]),u=ne.useCallback(function(g,C,v,P){var I={name:g,delta:C,target:v,should:P};o.current.push(I),setTimeout(function(){o.current=o.current.filter(function(B){return B!==I})},1)},[]),d=ne.useCallback(function(g){t.current=On(g),r.current=void 0},[]),p=ne.useCallback(function(g){u(g.type,af(g),g.target,s(g,e.lockRef.current))},[]),m=ne.useCallback(function(g){u(g.type,On(g),g.target,s(g,e.lockRef.current))},[]);ne.useEffect(function(){return Co.push(i),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",l,Ut),document.addEventListener("touchmove",l,Ut),document.addEventListener("touchstart",d,Ut),function(){Co=Co.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,Ut),document.removeEventListener("touchmove",l,Ut),document.removeEventListener("touchstart",d,Ut)}},[]);var b=e.removeScrollBar,w=e.inert;return ne.createElement(ne.Fragment,null,w?ne.createElement(i,{styles:rg(n)}):null,b?ne.createElement(ha,{gapMode:"margin"}):null)}var mO=Bt(pn,cf);c();var Ln=T(x());c();var ig=function(e){if(typeof document>"u")return null;var o=Array.isArray(e)?e[0]:e;return o.ownerDocument.body},Ro=new WeakMap,In=new WeakMap,_n={},va=0,ag=function(e,o,t,r){var n=Array.isArray(e)?e:[e];_n[t]||(_n[t]=new WeakMap);var i=_n[t],a=[],s=new Set,l=new Set(n),u=function(p){!p||s.has(p)||(s.add(p),u(p.parentNode))};n.forEach(u);var d=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(m){if(s.has(m))d(m);else{var b=m.getAttribute(r),w=b!==null&&b!=="false",g=(Ro.get(m)||0)+1,C=(i.get(m)||0)+1;Ro.set(m,g),i.set(m,C),a.push(m),g===1&&w&&In.set(m,!0),C===1&&m.setAttribute(t,"true"),w||m.setAttribute(r,"true")}})};return d(o),s.clear(),va++,function(){a.forEach(function(p){var m=Ro.get(p)-1,b=i.get(p)-1;Ro.set(p,m),i.set(p,b),m||(In.has(p)||p.removeAttribute(r),In.delete(p)),b||p.removeAttribute(t)}),va--,va||(Ro=new WeakMap,Ro=new WeakMap,In=new WeakMap,_n={})}},lf=function(e,o,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),n=o||ig(e);return n?(r.push.apply(r,Array.from(n.querySelectorAll("[aria-live]"))),ag(r,n,t,"aria-hidden")):function(){return null}};c();var uf=T(x());var sg=Wt(),cg=`
 [`+Sn+`] {
   pointer-events: none !important;
 }
`,df=function(){return uf.createElement(sg,{styles:cg})};var wt=T(x()),ff=function(e){return"current"in e?e.current:e};function pf(e){var o=e.setLockProps,t=e.onEscapeKey,r=e.onClickOutside,n=e.shards,i=e.onActivation,a=e.onDeactivation,s=e.noIsolation,l=(0,wt.useState)(void 0),u=l[0],d=l[1],p=(0,wt.useRef)(null),m=(0,wt.useRef)(0);return Ln.useEffect(function(){var b=function(v){v.defaultPrevented||(v.code==="Escape"||v.key==="Escape"||v.keyCode===27)&&t&&t(v)},w=function(v){v.defaultPrevented||v.target===p.current||v instanceof MouseEvent&&v.button!==0||n&&n.map(ff).some(function(P){return P&&P.contains(v.target)||P===v.target})||r&&r(v)},g=function(v){w(v),m.current=v.touches.length},C=function(v){m.current=v.touches.length};if(u)return document.addEventListener("keydown",b),document.addEventListener("mousedown",w),document.addEventListener("touchstart",g),document.addEventListener("touchend",C),function(){document.removeEventListener("keydown",b),document.removeEventListener("mousedown",w),document.removeEventListener("touchstart",g),document.removeEventListener("touchend",C)}},[u,r,t]),(0,wt.useEffect)(function(){if(u)return i&&i(u),function(){a&&a()}},[!!u]),(0,wt.useEffect)(function(){var b=function(){return null},w=!1,g=function(v){s||(b=lf(dd([v],(n||[]).map(ff)),document.body,Sn)),d(function(){return v})},C=function(){b(),w||d(null)};return o({onMouseDown:function(v){p.current=v.target},onTouchStart:function(v){p.current=v.target},onActivation:g,onDeactivation:C}),function(){w=!0,o(!1)}},[]),Ln.createElement(df,null)}var mf=Bt(bn,pf);var lg=function(e){return Jo.createElement(mf,Nt({},e))},ba=Jo.forwardRef(function(e,o){return Jo.createElement(kd,Nt({},e,{ref:o,sideCar:lg}))});X();var xf=T(Tf());function kf(e){let o=Te.useRef(null),[t,r]=Ze(Lc),{medias:n,currentIndex:i}=t,a=()=>{r({medias:[],currentIndex:0})},s=()=>{r(d=>({...d,currentIndex:Math.max(d.currentIndex-1,0)}))},l=()=>{r(d=>({...d,currentIndex:Math.min(d.currentIndex+1,d.medias.length-1)}))},u=d=>{r(p=>({...p,currentIndex:d}))};return Cr({opened:n.length>0,closeOnClick:!1,closeOnOutsideClick:!1,closeOnScroll:!1,closeOnEsc:!0,onClose:a},o),Ar(n.length?{Left:()=>s(),Right:()=>l()}:{},"all",[r,!n.length]),n.length?Te.createElement(ft,{ref:o},Te.createElement(ba,null,Te.createElement(y,{style:Po.imagesZoonPortal},Te.createElement(xf.default,{imageUrls:n.map(d=>({url:d.url})),index:i,renderIndicator:d=>Te.createElement(y,{style:Po.indactor},Te.createElement(y,{style:Po.indicatorElement}),Te.createElement(y,{style:[Po.indicatorElement,h.alignCenter,h.justifyContentCenter]},Te.createElement(J,{style:Po.indicatorText},`${d}/${n.length}`)),Te.createElement(y,{style:[Po.indicatorElement,h.alignEnd,h.justifyContentCenter]},Te.createElement(pe,{icon:z.X,defaultTextStyle:{color:rt.WHITE},onPress:()=>a()}))),renderArrowLeft:()=>Te.createElement(pe,{icon:z.ChevronLeft,defaultTextStyle:{color:rt.WHITE},onPress:()=>s()}),renderArrowRight:()=>Te.createElement(pe,{icon:z.ChevronRight,defaultTextStyle:{color:rt.WHITE},onPress:()=>l()}),onChange:d=>u(d),onCancel:()=>a(),enableSwipeDown:!0})))):null}var Po=de.create({imagesZoonPortal:{position:"fixed",top:0,left:0,right:0,bottom:0},indactor:{height:48,position:"absolute",left:0,top:0,right:0,display:"flex",flexDirection:"row",zIndex:20},indicatorElement:{flex:1},indicatorText:{color:rt.WHITE}});c();var ka=T(x());function Ef(e){let{active:o=!0,interactive:t=!1,size:r,rating:n}=e,[,i]=E(Tg),a=Pg[n];return ka.createElement(Q.View,{style:[i.ratingIcon,{width:r,height:r,borderRadius:r}],inactiveStyle:o?i[n]:i.inactiveButton,activeStyle:t?i[n]:null},ka.createElement(a.Child,{size:.75*r,activeStyle:t?i.activeIcon:null,style:o&&i.activeIcon}))}var Pg={["ok"]:Q.createInteractiveComponent(z.FeedbackOk),["good"]:Q.createInteractiveComponent(z.FeedbackGood),["bad"]:Q.createInteractiveComponent(z.FeedbackBad)},Tg=A.create({ratingIcon:{borderRadius:_.BUTTON_S,alignItems:"center",justifyContent:"center"},inactiveButton:e=>({backgroundColor:e.colors.background.mid,color:e.colors.text.mid}),activeIcon:e=>({color:e.colors.primary.textInside}),["ok"]:e=>({backgroundColor:e.colors.warning.main}),["good"]:e=>({backgroundColor:e.colors.success.main}),["bad"]:e=>({backgroundColor:e.colors.danger.main})});c();var me=T(x());X();var xg=Ve("app:crash");function er(e){let{children:o}=e,t=me.useCallback((r,n,i)=>{xg.emergency(`An error occured during rendering:

`,r,`

The error is located at:
`,n),We({type:"crash",crashType:Ea(r),sentryEvent:i})},[]);return me.createElement($a,{fallback:r=>me.createElement(kg,{...r}),onError:t,beforeCapture:Ig},o)}function kg(e){let{eventId:o,error:t}=e,[,r]=E(_g),n=()=>{Ka({eventId:o})},i=()=>{window.location.reload()};me.useEffect(()=>{let s=document.querySelector(".gitbook-splashscreen");s==null||s.remove()},[]);let a=()=>{switch(Ea(t)){case"network-crash":return me.createElement(Og,{onReload:i,...e});case"crash":default:return me.createElement(Eg,{onShareFeedback:n,onReload:i,...e})}};return me.createElement(y,{style:[r.background]},a())}function Eg(e){let o=oe(),{onReload:t,onShareFeedback:r}=e;return me.createElement(Ao,{title:o("something_wrong"),action:me.createElement(me.Fragment,null,me.createElement(pe,{kind:"primary",size:"medium",onPress:t,style:f.Margin.smallRight},o("reload")),me.createElement(pe,{kind:"secondary",size:"medium",onPress:r},o("let_us_know")))},o("we_have_been_notified"))}function Og(e){let{onReload:o}=e,t=oe(),r=()=>{window.open("https://docs.gitbook.com/resources/firewall-safelist","_blank")};return me.createElement(Ao,{title:t("connection_lost"),icon:z.CloudOff,action:me.createElement(me.Fragment,null,me.createElement(pe,{kind:"primary",size:"medium",onPress:o,style:f.Margin.smallRight},t("reload")),me.createElement(pe,{size:"medium",icon:z.Link,onPress:r},t("network_troubleshooting")))},t("device_offline"))}function Ig(e,o){switch(Ea(o)){case"network-crash":e.setTag("error_category","network-crash");break;case"crash":default:e.setTag("error_category","react-crash")}}function Ea(e){return e.name==="FirebaseError"&&e.code==="unavailable"?"network-crash":"crash"}var _g=A.create({background:e=>({backgroundColor:e.colors.background.main,minHeight:"100vh"})});c();var If=T(x());c();var Of=T(x());function Oa(e){let[o,{close:t,setQuery:r}]=_t(),n=sc(),i=Sr(1e3);return uc(a=>{if(!a||!!a.position){typeof o<"u"&&(i.cancel(),t());return}a.query.text!==o&&i(()=>r(a.query.text))}),Of.useEffect(()=>{if(typeof o<"u"&&!n.opened){n.open(),n.typeQuery(o);return}},[n,o]),null}c();var De=T(x());c();var Ia=T(x());function Vn(e){let{children:o,ssrRequestPath:t,ssrRouterContext:r}=e;return r?Ia.createElement(Dl,{location:t,context:r},o):Ia.createElement(Ii,null,o)}c();var Hn=T(x());function _f(e="https://policies.gitbook.com/privacy/cookies",o=!1){let t=Tr(),r=oe();Hn.useEffect(()=>{if(!o)return;let n=!1;if(yr()!==null)return;let i=t.notify({title:r("cookies"),details:r("cookie_prompt",Hn.createElement(Or,{url:e},r("cookie_policy"))),timeout:0,icon:z.Cookies,actions:[{label:r("reject_all"),onPress:()=>{n=!0,di(!1),i()}}],onClose:()=>{n||di(!0)}})},[])}c();var N=T(x());X();c();var Lf=T(x());X();function Df(e){let{children:o,style:t}=e;return Lf.createElement(y,{style:[Lg.container,t]},o)}var Lg=de.create({container:{display:"flex",flexDirection:"row",width:"100%",maxWidth:1510,marginHorizontal:"auto",paddingHorizontal:f.small}});c();var ct=T(x());X();function Af(e){let[,{open:o}]=_t(),t=oe();return ct.createElement(pe,{icon:z.SearchPublic,size:"medium",kind:e.headerTheme==="bold"?"default_bold":"default",alignItems:"start",onPress:o,style:[f.Padding.noneHorizontal],accessibilityLabel:t("search")})}function Fn(e){let{headerTheme:o}=e,[,{open:t}]=_t(),r=oe(),[,n]=E(Y),[,i]=E(Dg),a=vr(),s=br(),l=o==="bold"?n.text:n.textMid,u=()=>o==="bold"?s.color==="light"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.15)":s.color==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.10)";return ct.createElement(Q.TouchableOpacity,{style:[{backgroundColor:u()},i.searchBarButton,h.directionRow,h.justifySpaceBetween,h.alignCenter,f.Padding.mediumLeft,f.Padding.smallRight],activeStyle:i.searchBarButtonActive,accessibilityLabel:r("search"),onPress:t},ct.createElement(y,{style:[h.directionRow,h.alignCenter]},ct.createElement(z.SearchPublic,{size:_.ICON_XS,style:[l,f.Margin.smallRight]}),ct.createElement(Q.Text.Child,{style:[n.Label,l],activeStyle:n.text},r("search"))),ct.createElement(y,null,ct.createElement(nt,{theme:o==="bold"?a:s},ct.createElement(xr,{kind:"main",shortcut:Dr.PALETTE_OPEN}))))}var Dg=A.create({searchBarButton:e=>({width:"100%",height:_.BUTTON_L,borderRadius:e.radiuses.large,borderWidth:1,borderColor:"transparent"}),searchBarButtonActive:e=>({borderColor:e.colors.border.mid})});c();var xe=T(x());X();var{TOC_DESKTOP_WIDTH:Ag}=Je,Mg=L.createResponsiveComponent(Ne),Ng=Q.createInteractiveComponent(Mg),_a=Ag-f.large-f.large;function Bn(e){var m;let{space:o,collection:t,mobileStyle:r,desktopStyle:n}=e,[,i]=E(Y),{getNavigationLinkProps:a}=ht(),s=(t?(t==null?void 0:t.publishedTitle)||(t==null?void 0:t.title):o.publishedTitle||o.title)||kt,l=s.length>14,u=l?2:1,p=Uc(o)&&(m=t==null?void 0:t.logoURL)!=null?m:o.logoURL;return xe.createElement(Ng,{style:[h.directionRow,h.alignCenter],mobileStyle:r,desktopStyle:n,...a({screen:{space:o.key,page:""}}),testID:"public.headerHomeLink",accessibilityLabel:s},p?xe.createElement(L.View,{style:[h.flex1,h.directionRow,h.alignCenter,tr.headerDesktop],mobileStyle:tr.logoMobile,desktopStyle:tr.logoDesktop},xe.createElement(L.View,{desktopStyle:"visible",mobileStyle:"hidden"},xe.createElement(Kt,{source:{uri:Mo(p,{height:40,fit:"contain"})},loading:"priority",style:{maxHeight:40,maxWidth:_a,width:"auto",height:"auto"}})),xe.createElement(L.View,{desktopStyle:"hidden",mobileStyle:"visible"},xe.createElement(Kt,{source:{uri:Mo(p,{height:30,fit:"contain"})},style:{maxHeight:30,maxWidth:_a,width:"auto",height:"auto"}}))):xe.createElement(y,{style:[tr.headerDesktop,h.flex1,h.directionRow,h.justifyContentStart,h.alignCenter]},xe.createElement(y,null,xe.createElement(L.View,{mobileStyle:"hidden",desktopStyle:"visible"},xe.createElement(hi,{content:t||o,renderFor:"public-content",size:_.BUTTON_L,style:[f.Margin.mediumRight]})),xe.createElement(L.View,{mobileStyle:"visible",desktopStyle:"hidden"},xe.createElement(hi,{content:t||o,renderFor:"public-content",size:_.ICON_XL,style:[f.Margin.mediumRight]}))),xe.createElement(L.Text,{style:tr.textOverflow,mobileStyle:[i.Heading3],desktopStyle:[l?i.Heading3:i.Heading2]},xe.createElement(Q.Text.Child,{numberOfLines:u,ellipsizeMode:"tail",inactiveStyle:i.text,activeStyle:e.space.headerTheme==="bold"?i.textStandout:i.primary},s))))}var tr=de.create({textOverflow:{overflow:"hidden"},logoMobile:{height:30},logoDesktop:{height:40},headerDesktop:{maxWidth:_a}});c();var Gt=T(x());X();c();c();var Le=T(x());X();var Vg=L.createResponsiveComponent(Q.TouchableOpacity),Hg=Q.createInteractiveComponent(L.View);function Wn(e){return`hsla(${xs(e.colors.text.primary).h}, 60%, 70%, 0.1)`}var Mf=Le.forwardRef(function(o,t){let{isLast:r,leftIcon:n,icon:i,rightIcon:a,kind:s="primary",children:l,expanded:u=!1,onChevronPress:d,active:p=!1,onPress:m,textStyle:b,href:w}=o,g=Q.useInteractiveState(),[C,v]=E(Fg),[,P]=E(Y),I=s==="primary"?P.textMid:P.textMuted,B=p?P.primary:I,q=m?Vg:Hg,se=u?z.ChevronDown:z.ChevronRight;return Le.createElement(q,{ref:t,...g.events,style:[v.tocMenuItem,f.Padding.smallHorizontal,f.Margin.smallRight,r?null:f.Margin.xsmallBottom,p?{backgroundColor:Wn(C)}:null],hoverStyle:m&&!p?v.tocMenuItemHovered:null,mobileStyle:v.tocMenuItemMobile,desktopStyle:v.tocMenuItemDesktop,onPress:m,href:w&&m?w:void 0},n?Le.createElement(y,{style:[f.Margin.mediumRight]},Le.createElement(n,{size:_.ICON_M,style:[B,b]})):null,i?Le.createElement(y,{style:[f.Margin.mediumRight]},Le.createElement(i,{size:_.ICON_M,style:[B,b]})):null,Le.createElement(J,{style:[h.flex1,f.Padding.xsmallVertical,s==="group"?P.GroupTitle:P.Label,B,b,p?P.Bold:null]},l),d?Le.createElement(Ne,{style:[h.directionRow,h.alignCenter],onPress:d},Le.createElement(se,{size:_.ICON_S,style:B})):null,a?Le.createElement(y,{style:v.tocMenuItemRightIcon},Le.createElement(a,{size:_.ICON_M,style:P.textMuted})):null)}),Fg=A.create({tocMenuItem:e=>({flexDirection:"row",alignItems:"center",borderColor:"transparent",borderWidth:1,borderRadius:e.radiuses.medium,minHeight:_.XS}),tocMenuItemMobile:{borderRightWidth:1},tocMenuItemDesktop:{borderRightWidth:0},tocMenuItemHovered:e=>({backgroundColor:e.colors.background.standout}),tocMenuItemRightIcon:{marginLeft:f.small,marginRight:(_.S-_.ICON_M)/2}});c();var xo=T(x());c();var ze=T(x());X();c();var Ue=T(x());X();var Nf=T(wl());var La=40,Bg=Q.createInteractiveComponent(Ws);function To(e){return Ue.createElement(Ot,null,Ue.createElement(Wg,{...e}))}function Wg(e){let{space:o,floating:t}=e,[r,n]=E(Ug),[,i]=E(Y),a=oe(),s=o.organization?fs(o.organization):null,[l]=Oc([s]),u=new URLSearchParams({utm_source:"content",utm_medium:"trademark",utm_campaign:o.key,...l?{"powered-by":l.title}:{}}),d=`https://${Ke.homepage.domain}/?${u.toString()}`,p=()=>{We(gr(o,{type:"public_content_click_trademark"}))};return Ue.createElement(y,{style:t&&n.floatingWrapper},t?Ue.createElement(Nf.default,{colors:[`${r.colors.background.main}00`,r.colors.background.main],style:n.floatingTopGradient}):null,Ue.createElement(y,{style:t&&[f.Padding.mediumHorizontal,f.Padding.mediumBottom,n.floatingBackground]},Ue.createElement(Q.TouchableOpacity,{style:[h.directionRow,h.alignCenter,...t?[n.trademarkFloating,f.Padding.smallVertical,f.Padding.mediumHorizontal]:[n.tradeMarkDefault]],activeStyle:i.primary,onPress:p,href:d,target:"_blank"},Ue.createElement(Bg,{size:La,style:i.textMuted,activeStyle:i.primary}),Ue.createElement(y,{style:[h.flex1,f.Padding.mediumLeft]},Ue.createElement(Q.Text.Child,{style:[i.Label,i.textMuted],activeStyle:i.primary},a("powered_by",Ue.createElement(Bu,{style:i.Bold},"GitBook")))))))}var Ug=A.create({floatingWrapper:{position:"absolute",bottom:0,zIndex:1,width:"100%"},floatingTopGradient:{height:f.medium},floatingBackground:e=>({backgroundColor:e.colors.background.main}),tradeMarkDefault:e=>({backgroundColor:"transparent"}),trademarkFloating:e=>({backgroundColor:e.colors.background.standout,borderRadius:e.radiuses.xlarge})});c();var zg=750,jg=f.xxlarge,Vf=zg+2*jg,Un=300,Gg=220;function Hf(e=0){return e+Un+Vf+Gg}function Ff(e){let o=`(100vw - ${Vf}px) / 2 - ${e||0}px`;return`max(${Un}px, calc(${o}))`}c();var or=T(x());X();c();var Se=T(x());X();function Da(e){return Se.createElement(Se.Suspense,{fallback:Se.createElement(Bf,{...e})},Se.createElement(qg,{...e}))}function qg(e){let{revision:o,treePage:t}=e,{page:r}=t,n=Jt(r.kind==="link"?r.ref:void 0,{space:o.space,revision:o.key});return Se.createElement(Bf,{...e,contentRef:n})}function Bf(e){let{revision:o,treePage:t,parent:r,currentPage:n,contentRef:i,isLastPage:a}=e,{page:s}=t,{getNavigationHref:l,navigateToPage:u}=Ac(),d=n?n.key:null,p=d===s.key,m=!!d&&as(o,s.key,d),[b,w]=Se.useState(m),[,g]=E(Xg),C=v=>{v.isDefaultPrevented()||v.nativeEvent.metaKey||v.nativeEvent.ctrlKey||(v.preventDefault(),s.kind==="sheet"?u(o,s.key):s.kind==="link"&&(i==null||i.open()))};return Se.useEffect(()=>{m&&w(!0)},[m]),Se.createElement(y,{style:[s.kind==="group"&&f.Margin.mediumVertical]},Se.createElement(Mf,{isLast:a,kind:s.kind==="group"?"group":!r||r.kind==="group"?"primary":"secondary",icon:s.emoji?wr(Er,{code:s.emoji}):void 0,rightIcon:s.kind==="link"?i?i.secondaryIcon:ut:void 0,active:p,expanded:b,onPress:s.kind==="group"?void 0:C,href:(()=>s.kind==="link"?i==null?void 0:i.href:l(o,s.key))(),onChevronPress:t.pages.length>0&&s.kind==="sheet"?v=>{v.preventDefault(),w(P=>!P)}:void 0},s.title),(b||s.kind==="group")&&t.pages.length>0?Se.createElement(y,{style:[g.tocItemChildren,...s.kind==="group"?[f.Margin.noneLeft]:[f.Margin.smallLeft,f.Margin.xsmallTop,f.Margin.smallBottom]]},t.pages.map((v,P)=>Se.createElement(y,{style:s.kind==="group"?null:f.Margin.smallLeft,key:v.renderKey},Se.createElement(Da,{...e,treePage:v,isLastPage:P===t.pages.length-1,parent:s}))),s.kind==="group"?null:Se.createElement(y,{style:g.tocItemChildrenLine})):null)}var Xg=A.create({tocItemChildren:{position:"relative"},tocItemChildrenLine:e=>({position:"absolute",top:0,bottom:0,left:0,width:1,backgroundColor:e.colors.border.main})});function zn(e){let{showingTrademark:o,revision:t}=e,r=or.useMemo(()=>ds(t.pages,t.rootPages),[t]);return or.createElement(lr,{style:h.flex1,contentContainerStyle:[f.Padding.mediumVertical,o?Yg.scrollviewWithTrademark:null]},r.map((n,i)=>or.createElement(Da,{key:n.renderKey,...e,treePage:n,isLastPage:i===r.length-1})))}var Yg=de.create({scrollviewWithTrademark:{paddingBottom:f.medium+La+2*f.medium}});c();var be=T(x());X();function jn(e){let{space:o,collection:t,collectionSpaces:r,currentPage:n,revision:i}=e,[,a]=E(Aa),s=r&&(t==null?void 0:t.publishingType)==="variants"?be.createElement(Gn,{key:"variants-picker",currentVariant:o,collection:t,variants:r,revision:i,currentPage:n}):null;return be.createElement(be.Fragment,null,be.createElement(Kg,{key:"mobile-closing-bar",variantsSwitcher:s}),o.headerTheme==="none"?be.createElement(be.Fragment,null,be.createElement($g,{key:"space-header",space:o,collection:t,variantsSwitcher:s}),be.createElement(L.View,{mobileStyle:"hidden",desktopStyle:"visible",style:[a.searchBarSection,f.Padding.smallTop,f.Padding.mediumBottom,f.Padding.smallRight,f.Padding.noneLeft,h.directionRow]},be.createElement(Fn,{key:"search-bar"}))):null)}function Kg(e){let[,o]=E(Aa),t=Zt(Ze(uo),be.useState(!1));return be.createElement(L.View,{style:[o.mobileClosingBar,f.Padding.smallHorizontal,h.justifySpaceBetween,h.alignCenter,h.directionRow],mobileStyle:"visible",desktopStyle:"hidden"},be.createElement(pe,{icon:z.X,size:"large",kind:"default",onPress:()=>t.closeMobile(),style:[h.alignSelfCenter,f.Padding.smallHorizontal],accessibilityLabel:"Close"}),e.variantsSwitcher)}function $g(e){let{space:o,collection:t,variantsSwitcher:r}=e,[,n]=E(Aa);return be.createElement(L.View,{style:[n.spaceTitleWrapper,h.directionRow,h.justifyContentCenter,h.alignCenter],mobileStyle:"hidden",desktopStyle:"visible"},be.createElement(Bn,{space:o,collection:t,desktopStyle:h.flex1}),be.createElement(y,{style:[h.alignSelfCenter,f.Margin.smallHorizontal]},r))}var Aa=A.create({searchBarSection:e=>({borderColor:e.colors.border.mid,borderBottomWidth:1}),selectedTab:e=>({borderLeftColor:e.colors.primary.main,borderLeftWidth:2}),hoverTab:e=>({backgroundColor:e.colors.background.standout}),tab:{width:"100%",flexDirection:"row",justifyContent:"center",alignItems:"center",outlineStyle:"none",borderWidth:0,borderColor:"transparent",borderLeftWidth:2,height:_.BUTTON_M,lineHeight:_.BUTTON_M,borderRadius:0,paddingHorizontal:f.medium},mainBadge:{fontFamily:Rs,fontSize:Ps.xxsmall,lineHeight:_.BUTTON_M,...Ts.Bold,textTransform:"uppercase",letterSpacing:1},spaceTitleWrapper:e=>({height:_.L}),mobileClosingBar:e=>({height:_.L,borderBottomWidth:1,borderBottomColor:e.colors.border.mid,backgroundColor:e.colors.background.main}),variantScrollView:{flexGrow:0,flexShrink:1,height:"fit-content"}});var{PUBLIC_DESKTOP_HEADER_HEIGHT:Ma}=Je;function Wf(e){let{space:o}=e,t=oe(),r=fr(o.headerTheme,o.themeMode),[,n]=E(Zg[r]),{desktopSidebarWidth:i}=ze.useContext(bc),a=ze.useMemo(()=>({[Hf(i)]:"visible"}),[i]),s=!o.hideTrademark;return ze.createElement(L.View,{testID:"page.desktopTableOfContents",mobileStyle:"hidden",desktopStyle:"visible",customBreakpointsStyles:a,style:[n.tocDesktopWrapper,h.directionRow,{width:Ff(i)},h.justifyContentEnd]},ze.createElement(pt,{tag:"nav",accessibilityLabel:t("table_of_contents"),style:[Jg.tocDesktop,h.directionColumn]},ze.createElement(y,{style:[h.flex1,f.Padding.largeLeft]},ze.createElement(jn,{...e}),ze.createElement(zn,{...e,showingTrademark:s})),s?ze.createElement(To,{floating:!0,space:o}):null))}var Zg={none:A.create({tocDesktopWrapper:e=>({position:"sticky",top:0,height:"100vh",overflowY:"auto",alignSelf:"flex-start",backgroundColor:e.colors.background.main,borderRightColor:e.colors.border.mid,borderRightWidth:1})}),light:A.create({tocDesktopWrapper:e=>({position:"sticky",top:f.xxlarge,height:`calc(100vh - ${Ma}px)`,overflowY:"auto",alignSelf:"flex-start",backgroundColor:e.colors.background.main,borderRightColor:e.colors.border.mid,borderRightWidth:1})}),dark:A.create({tocDesktopWrapper:e=>({position:"sticky",top:f.xxlarge,height:`calc(100vh - ${Ma}px)`,overflowY:"auto",alignSelf:"flex-start",backgroundColor:e.colors.background.main,borderRightColor:e.colors.border.mid,borderRightWidth:1})}),bold:A.create({tocDesktopWrapper:e=>({position:"sticky",top:f.xxlarge,height:`calc(100vh - ${Ma}px)`,overflowY:"auto",alignSelf:"flex-start",backgroundColor:e.colors.background.main,borderRightColor:e.colors.border.mid,borderRightWidth:1})})},Jg=de.create({tocDesktop:{width:Un}});c();var Ee=T(x());X();var Qg=L.createResponsiveComponent(Pt.View),ey=L.createResponsiveComponent(Pt.createAnimatedComponent(Ne));function zf(e){let{currentPage:o,space:t}=e,r=oe(),n=Zt(Ze(uo),Ee.useState(!1)),{sidebarMobileLeft:i,showOverlay:a}=pc(n),[s,l]=E(ty);Ee.useEffect(()=>{n.close()},[o==null?void 0:o.key]);let u=!t.hideTrademark;return Ee.createElement(ft,null,Ee.createElement(Qg,{style:[l.sidebar,{left:i}],mobileStyle:"visible",desktopStyle:"hidden"},Ee.createElement(pt,{tag:"nav",accessibilityLabel:r("table_of_contents"),style:[h.directionColumn,h.flex1]},Ee.createElement(y,{style:h.flex1},Ee.createElement(jn,{...e}),Ee.createElement(y,{style:[f.Padding.mediumLeft,h.flex1,l.sidebarWrapper]},Ee.createElement(zn,{...e,showingTrademark:u}))),u?Ee.createElement(To,{floating:!0,space:t}):null)),Ee.createElement(ey,{style:[l.screenOverlay,{backgroundColor:i.interpolate({inputRange:[-Ir.MOBILE_WIDTH,0],outputRange:[s.colors.backdrop.transparent,s.colors.backdrop.background]})}],mobileStyle:a?"visible":"hidden",desktopStyle:"hidden",onPress:n.closeMobile}))}var Uf=10,ty=A.create({sidebar:e=>({backgroundColor:e.colors.background.main,width:Ir.MOBILE_WIDTH,maxWidth:"100%",height:"100%",flexDirection:"row",position:"fixed",top:0,bottom:0,zIndex:Uf}),sidebarWrapper:e=>({borderRightWidth:1,borderRightColor:e.colors.border.mid}),sidebarCloseButton:{position:"absolute",width:_.BUTTON_M,height:_.BUTTON_M,top:(_.M-_.BUTTON_M)/2,left:Ir.MOBILE_WIDTH+_.BUTTON_M/2},screenOverlay:{position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:Uf-1}});function jf(e){return xo.createElement(xo.Fragment,null,xo.createElement(Wf,{...e}),xo.createElement(zf,{...e}))}var Na=150,oy=200,ry=150;function qn(e){let[,o]=E(Gf);return Gt.createElement(L.View,{style:o.wrapper,mobileStyle:[o.wrapperMobile,f.Margin.smallVertical,f.Margin.smallHorizontal],desktopStyle:[o.wrapperDesktop,f.Margin.smallVertical,f.Margin.xsmallHorizontal]},Gt.createElement(lr,null,e.children))}function Xn(e){let{title:o,kind:t="default",active:r=!1,onPress:n,isLast:i}=e,[a,s]=E(Gf),[,l]=E(Y);return Gt.createElement(Q.TouchableOpacity,{hoverStyle:s.menuItemHovered,style:[s.menuItem,f.Padding.xsmallVertical,f.Padding.smallHorizontal,i?null:f.Margin.xsmallBottom,r?{backgroundColor:Wn(a)}:null],onPress:n},Gt.createElement(y,{style:[h.directionRow,h.alignCenter,h.justifySpaceBetween]},Gt.createElement(Q.Text.Child,{hoverStyle:r?null:l.textStandout,style:[l.Label,t==="link"?l.SemiBold:null,...r?[l.primary,l.Bold]:[l.text]],numberOfLines:2,ellipsizeMode:"tail"},o),Gt.createElement(y,{style:[f.Margin.mediumLeft]},e.rightElement)))}var Gf=A.create({wrapper:e=>({backgroundColor:e.colors.background.main}),wrapperDesktop:{minWidth:Na,maxWidth:oy,maxHeight:ry},wrapperMobile:{width:"auto",maxWidth:"100%",maxHeight:"100%"},menuItem:e=>({borderRadius:e.radiuses.large}),menuItemHovered:e=>({backgroundColor:e.colors.background.muted})});c();var we=T(x());X();function Gn(e){let{headerTheme:o,currentPage:t,collection:r,variants:n,currentVariant:i,revision:a}=e,{getNavigationLinkProps:s}=ht(),l=oe(),u=we.useRef(null),[,d]=E(Y),p=we.useMemo(()=>t?xt(a,t.key):"",[t]);return we.createElement(zs,{ref:u,wrapper:Pr,closeOnClick:!0,closeOnOutsideClick:!0,anchor:({ref:m,toggle:b,opened:w})=>{let g=w?z.ChevronUp:z.ChevronDown;return we.createElement(pe,{ref:m,size:"medium",rightIcon:g,kind:o==="bold"?"default_bold":"default",alignItems:"start",onPress:b,style:[f.Padding.noneHorizontal]},we.createElement(y,{style:[qf.variantsPicker]},we.createElement(J,{numberOfLines:1,ellipsizeMode:"tail"},i.publishedTitle||i.title||kt)))}},we.createElement(Rr,{kind:"menu",preferredAlignment:"start"},we.createElement(we.Suspense,{fallback:we.createElement(dt,{size:"small"})},we.createElement(qn,null,n.map((m,b,w)=>we.createElement(Xn,{key:m.key,title:m.title,active:m.key===i.key,isLast:b===w.length-1,rightElement:m.key===r.primarySpace?we.createElement(J,{style:[d.textMuted,d.Uppercase,qf.mainLabel]},l("main")):null,...s({screen:{space:m.key,page:p}},()=>{var g;(g=u.current)==null||g.close()})}))))))}var qf=de.create({mainLabel:{letterSpacing:1.2},variantsPicker:{maxWidth:Na/2}});var{PAGE_BODY_DESKTOP_H_PADDING:ny,TOC_DESKTOP_WIDTH:iy,PUBLIC_DESKTOP_HEADER_HEIGHT:Yf,PUBLIC_MOBILE_HEADER_HEIGHT:Kf}=Je,ay=L.createResponsiveComponent(pe),sy=L.createResponsiveComponent(pt);function $f(e){let{space:o}=e,t=fr(o.headerTheme,o.themeMode),r=br();my(t);let n=N.useMemo(()=>Hu(r,t,o.primaryColor),[t,o.primaryColor,r]);return N.createElement(nt,{theme:n},o.headerTheme==="none"?N.createElement(L.View,{desktopStyle:"hidden",mobileStyle:"visible"},N.createElement(Xf,{...e,headerTheme:t})):N.createElement(Xf,{...e,headerTheme:t}))}function Xf(e){let{space:o,headerTheme:t,revision:r,collection:n,collectionSpaces:i,currentPage:a}=e,[,s]=E(fy[t]),l=Zt(Ze(uo),N.useState(!1)),d=Tt(a)==="docs",p=[Ct.searchWrapper,f.Padding.largeLeft,f.Padding.smallRight];return N.createElement(N.Fragment,null,N.createElement(sy,{tag:"header",desktopStyle:Ct.desktopHeight,mobileStyle:Ct.mobileHeight,style:[s.spaceHeader,h.directionRow,h.alignCenter]},N.createElement(Df,{style:h.alignCenter},d?N.createElement(ay,{desktopStyle:"hidden",mobileStyle:"visible",icon:z.Menu,style:f.Margin.smallRight,kind:"grey",rounded:!0,title:l.opened?"Hide Table of Content":"Show Table of Content",onPress:l.toggle}):null,N.createElement(Bn,{space:o,collection:n,mobileStyle:[Ct.autoWidth,f.Padding.noneLeft,f.Padding.mediumRight,h.flexShrink1,h.justifyContentStart,d?null:f.Margin.smallLeft],desktopStyle:[Ct.autoWidth,f.Padding.mediumLeft,f.Padding.largeRight,h.justifyContentStart]}),i&&(n==null?void 0:n.publishingType)==="variants"?N.createElement(L.View,{mobileStyle:"hidden",desktopStyle:"visible"},N.createElement(Gn,{key:"variants-picker",headerTheme:t,currentPage:a,collection:n,revision:r,variants:i,currentVariant:o})):null,N.createElement(cy,{space:o,revision:r}),N.createElement(L.View,{mobileStyle:"hidden",desktopStyle:"visible",style:[p,Ct.searchBarContainer,h.flex1]},N.createElement(Fn,{headerTheme:t})),N.createElement(L.View,{mobileStyle:"visible",desktopStyle:"hidden",style:[p]},N.createElement(Af,{headerTheme:t})))),N.createElement(L.View,{mobileStyle:"visible",desktopStyle:"hidden"},N.createElement(nt,{theme:pr(o)},N.createElement(dy,{space:o,revision:r}))))}function cy(e){let{space:o,revision:t}=e;return N.createElement(L.View,{style:[h.directionRow,h.justifyContentEnd,h.alignCenter,h.flex1,f.Padding.mediumLeft],mobileStyle:"hidden"},(o.headerLinks||[]).map((r,n,i)=>r.title?N.createElement(ly,{space:o,revision:t,headerLink:r}):null))}function ly(e){let{headerLink:o,space:t,revision:r}=e,n=Q.useInteractiveState({hoverDelay:250}),i=Q.useInteractiveState(),a=s=>{var l;return N.createElement(Uo,{ref:s.ref,style:[f.Padding.mediumHorizontal],kind:((l=e.space)==null?void 0:l.headerTheme)==="bold"?"bold":"default",title:o.title,contentRef:o.to,space:t,revision:r,...s.events})};return o.links&&o.links.length>0?N.createElement(Us,{opened:n.hovered||i.hovered,wrapper:Pr,anchor:({ref:s})=>a({ref:s,events:n.events})},N.createElement(Rr,{kind:"menu",preferredAlignment:"start"},N.createElement(y,{...i.events},N.createElement(qn,null,o.links.map((s,l,u)=>N.createElement(uy,{key:l,link:s,revision:r,isLast:l===u.length-1})))))):a({})}function uy(e){let{link:o,revision:t,isLast:r}=e,n=Jt(o.to,{space:t.space,revision:t.key});return N.createElement(Xn,{kind:"link",title:o.title,isLast:r,onPress:i=>{i.nativeEvent.metaKey||i.nativeEvent.ctrlKey||(i.preventDefault(),n.open())}})}function dy(e){let{space:o,revision:t}=e,[r,n]=N.useState(!1),[,{headerLinksMobile:i}]=E(py),a=r?z.ChevronDown:z.ChevronRight;return!o.headerLinks||o.headerLinks.length===0?null:N.createElement(y,{style:[Ct.headerLinksMobile,i,h.justifyContentCenter,f.Padding.medium]},N.createElement(y,{style:[Ct.headerLinksMobileButton]},N.createElement(pe,{size:"large",rightIcon:a,alignItems:"start",onPress:()=>n(s=>!s),style:[f.Padding.noneHorizontal]},"Links")),r?N.createElement(y,null,o.headerLinks.map((s,l,u)=>s.title?N.createElement(Zf,{space:o,revision:t,link:s,isLast:l===u.length-1}):null)):null)}function Zf(e){var u;let{link:o,space:t,revision:r,isLast:n}=e,[i,a]=N.useState(!1),s="links"in o?o.links||[]:[],l=i?z.ChevronDown:z.ChevronRight;return N.createElement(y,{style:[h.directionColumn]},N.createElement(y,{style:[h.directionRow,h.alignCenter]},N.createElement(Uo,{style:[f.Padding.smallTop,n?null:f.Padding.smallBottom],kind:((u=e.space)==null?void 0:u.headerTheme)==="bold"?"bold":"default",title:o.title,contentRef:o.to,space:t,revision:r}),s.length>0?N.createElement(pe,{size:"large",kind:"link",rightIcon:l,alignItems:"start",onPress:()=>a(d=>!d),style:[f.Padding.noneHorizontal]}):null),i?N.createElement(y,{style:[f.Margin.smallLeft,f.Margin.smallBottom]},s.map((d,p,m)=>N.createElement(Zf,{key:p,space:t,revision:r,link:d,isLast:p===m.length-1}))):null)}var fy={none:A.create({spaceHeader:e=>({borderBottomWidth:1,borderBottomColor:e.colors.border.mid,backgroundColor:e.colors.background.main,zIndex:1})}),light:A.create({spaceHeader:e=>({borderBottomWidth:1,borderBottomColor:e.colors.border.mid,backgroundColor:e.colors.background.main,zIndex:1,position:"sticky",top:0})}),dark:A.create({spaceHeader:e=>({borderBottomWidth:1,borderBottomColor:e.colors.border.mid,backgroundColor:e.colors.background.main,zIndex:1,position:"sticky",top:0})}),bold:A.create({spaceHeader:e=>({borderBottomWidth:1,borderBottomColor:e.colors.primary.main,backgroundColor:e.colors.primary.main,zIndex:1,position:"sticky",top:0})})},py=A.create({headerLinksMobile:e=>({backgroundColor:e.colors.background.main,borderBottomWidth:1,borderBottomColor:e.colors.border.main})}),Ct=de.create({searchWrapper:{marginLeft:"auto"},searchBarContainer:{maxWidth:225},autoWidth:{width:"auto"},tocDesktop:{width:iy},headerLinks:{paddingHorizontal:ny-f.medium},headerLinksMobile:{minHeight:_.M},headerLinksMobileButton:{marginRight:"auto"},mobileHeight:{height:Kf},desktopHeight:{height:Yf}});function my(e){let t=$t()==="mobile";Yt(()=>{if(e!=="none"){let r=document.getElementsByTagName("html")[0];r.style.scrollPaddingTop=`${t?Kf:Yf}px`}},[e])}c();var he=T(x());c();var Oe=T(x());X();c();var je=T(x());X();function Jf(e){let{space:o,revision:t,page:r,analyticsContext:n}=e,i=ws(),[,a]=E(Y),s=oe(),[{result:l,error:u}]=Ec([yi(o.key,r.key,i)]);if(u)return null;let d=p=>{p!==(l==null?void 0:l.rating)&&(We({...n,type:"public_content_page_feedback_post",rating:p}),es(m=>{jc(m,{space:o.key,page:r.key,revision:t.key,visitorId:i,rating:p,previousRating:l==null?void 0:l.rating})}))};return je.createElement(y,{style:[h.directionRow,h.alignCenter]},je.createElement(y,null,je.createElement(J,{style:[a.GroupTitle,a.textMuted]},s("was_it_helpful"))),je.createElement(y,{style:[h.directionRow,h.alignCenter]},je.createElement(Va,{tooltip:s("poor_content"),active:(l==null?void 0:l.rating)==="bad",rating:"bad",onPress:d}),je.createElement(Va,{tooltip:s("ok_content"),active:(l==null?void 0:l.rating)==="ok",rating:"ok",onPress:d}),je.createElement(Va,{tooltip:s("excellent_content"),active:(l==null?void 0:l.rating)==="good",rating:"good",onPress:d})))}function Va(e){let{active:o,tooltip:t,rating:r,onPress:n}=e;return je.createElement(qs,{tooltip:t},(i,a)=>je.createElement(Ne,{ref:a,onPress:()=>n(r),style:[f.Margin.smallLeft],accessibilityLabel:t,...i.events},je.createElement(Ef,{active:o,interactive:!0,rating:r,size:_.BUTTON_S})))}function Qf(e){let{space:o,revision:t,page:r,analyticsContext:n}=e,[,i]=E(Y),[,a]=E(hy),s=oe(),l=ts(r.edits),u=Tt(r),d=!!l,p=o.hasPublicFeedback,m=!o.hideTrademark&&(u==="editorial"||u==="landing");if(!d&&!p)return null;let b=Oe.createElement(Bc,null,Oe.createElement(Oe.Suspense,{fallback:null},Oe.createElement(Jf,{space:o,revision:t,page:r,analyticsContext:n})));return Oe.createElement(y,{style:[f.Padding.largeTop,a.footer]},Oe.createElement(L.View,{tabletStyle:h.directionColumn,desktopStyle:h.directionRow,style:[h.alignCenter,h.justifySpaceBetween]},d?Oe.createElement(L.View,{tabletStyle:f.Margin.mediumBottom,style:m?[]:[h.flex1]},Oe.createElement(J,{style:[i.textMuted,i.Label]},s("last_modified",Oe.createElement(dc,{value:l.updatedAt.toDate(),onlyDate:!1})))):null,m?Oe.createElement(To,{space:o,floating:!1}):null,p?Oe.createElement(L.View,{tabletStyle:m?"hidden":"visible",desktopStyle:"visible"},b):null),m&&p?Oe.createElement(L.View,{tabletStyle:"visible",desktopStyle:"hidden",style:[h.directionRow,h.flex1,h.justifyContentCenter,f.Margin.largeTop]},b):null)}var hy=A.create({footer:e=>({borderTopColor:e.colors.border.mid,borderTopWidth:1})});c();var Ge=T(x());X();var gy=Q.createInteractiveComponent($s),yy={[ss]:null,[cs]:f.Margin.smallLeft,[us]:null},ep=Ge.memo(function(o){let{sections:t,activeSection:r}=o,[,n]=E(Y),[,i]=E(tp),a=oe();return Ge.createElement(y,{style:[i.pageOutline]},Ge.createElement(y,{style:[h.directionRow,h.alignCenter,f.Padding.largeHorizontal,f.Margin.smallBottom]},Ge.createElement(J,{style:[n.GroupTitle,n.textMuted,n.Bold]},a("outline"))),t.map(s=>s.type===null||s.type===ls?null:Ge.createElement(vy,{key:s.key,section:s,active:r===s.key})))});function vy(e){let{section:o,active:t}=e,[,r]=E(Y),[,n]=E(tp),{navigateToHash:i}=ht();return Ge.createElement(Q.TouchableOpacity,{style:[h.directionRow,f.Padding.largeHorizontal,n.sectionItem,t&&n.sectionItemActive],onPress:()=>{i(o.anchor)}},o.tag?Ge.createElement(lt,{backgroundColor:Hc[o.tag]||rt.orange.base,style:[n.sectionTag,f.Margin.xsmallRight,h.alignSelfCenter]},Ge.createElement(J,{style:[r.textInsideColor,r.MobileCaption,r.Bold,r.Uppercase]},o.tag)):null,Ge.createElement(gy.Child,{style:[r.Label,r.textMid,o.type&&yy[o.type],...t?[r.primary,r.Medium]:[]],hoverStyle:r.primary},o.title))}var tp=A.create({pageOutline:e=>({maxWidth:Je.MAX_PAGE_OUTLINE_WIDTH}),sectionItem:{marginTop:f.xsmall,marginBottom:f.xsmall,marginLeft:-1,borderLeftWidth:3,borderLeftColor:"transparent",width:"fit-content",maxWidth:"100%"},sectionItemActive:e=>({borderLeftColor:e.colors.primary.main}),sectionTag:{borderRadius:_.XXS,height:_.XXS,paddingHorizontal:f.small,justifyContent:"center"}});var{PUBLIC_DESKTOP_HEADER_HEIGHT:by}=Je;function op(e){var v;let{space:o,revision:t,screen:r,analyticsContext:n,collection:i,collectionSpaces:a,assetHostname:s,screenUpdate:l,currentPage:u,scrollRef:d}=e,p=oe(),[m,b]=E(Sy);if(Ml(o),at(P=>{P.writeAsync([{type:"meta",name:"description",content:u&&"description"in u?u.description:""},{type:"meta",name:"og:description",content:u&&"description"in u?u.description:""},{type:"meta",name:"og:image",content:o.socialPreviewURL?Mo(o.socialPreviewURL,{height:640,width:1280,fit:"contain"}):Cy(o,t,u)},{type:"meta",name:"twitter:card",content:"summary_large_image"}]),o.visibility==="in-collection"?(P.setTitle(u?u.title:p("page_not_found"),(i==null?void 0:i.publishedTitle)||(i==null?void 0:i.title)||kt),P.writeAsync([{type:"meta",name:"robots",content:(i==null?void 0:i.visibility)!=="public"?"noindex, nofollow":"index"}])):(P.setTitle(u?u.title:p("page_not_found"),o.publishedTitle||o.title||kt),P.writeAsync([{type:"meta",name:"robots",content:o.visibility!=="public"?"noindex, nofollow":"index"}]))}),Mr(u?Ss(o,u,{screen:"space",visibility:o.visibility,pageLayout:Tt(u),diffMode:!1}):null,[o.key,u==null?void 0:u.key]),Au(o,(v=u==null?void 0:u.key)!=null?v:null),!u&&r.page){let[P]=xc([Wc(o.key,r.page)]);if(P&&t.pages[P.page])return he.default.createElement(Mc,{to:xt(t,P.page)})}let w=Tt(u),g=w==="docs",C=w==="docs"||w==="editorial";return he.default.createElement(he.default.Fragment,null,l?he.default.createElement(Tc,{to:{screen:l}}):null,he.default.createElement(Ry,{space:i||o,assetHostname:s}),he.default.createElement(L.View,{style:[h.flex1],mobileStyle:h.directionColumn,desktopStyle:h.directionRow},g?he.default.createElement(jf,{space:o,revision:t,currentPage:(u==null?void 0:u.kind)==="sheet"?u:null,analyticsContext:n,collection:i,collectionSpaces:a}):null,he.default.createElement(lt,{style:[b.spacePageBody],backgroundColor:m.colors.background.main},he.default.createElement(he.default.Suspense,{fallback:he.default.createElement(wc,{withPageOutline:(u==null?void 0:u.layout)!=="landing"})},u&&u.kind==="sheet"?he.default.createElement(Sc,{key:wy(r,t,u),space:o,changeRequest:void 0,revision:t,page:u,readOnly:!0,withComments:!1,withToC:g,analyticsContext:n,scrollRef:d,outline:C?ep:void 0,footer:he.default.createElement(Qf,{space:o,revision:t,page:u,analyticsContext:n}),sideColumnStickyTop:f.large+(o.headerTheme==="none"?0:by)}):he.default.createElement(Wu,{statusCode:404},he.default.createElement(Ao,{title:p("page_not_found"),action:he.default.createElement(Pc,{kind:"secondary",size:"medium",to:{screen:{type:"space",space:o.key,page:""}}},p("back_to_home"))},p("page_not_found_long")))))))}var Sy=A.create({spacePageBody:{flex:1}});function wy(e,o,t){let r=e.space;return r+=`/${e.changeRequest||"main"}`,r+=`/${o.conflicts?"conflicts":"normal"}`,r+=`/${t.key}`,e.diff&&(r+="/diff"),e.revision&&(r+="/revision"),r}function Cy(e,o,t){let r=t&&o.rootPages[0]!==t.key?`/page/${t.key}`:"",n=`color=${encodeURIComponent(e.primaryColor||"")}&logo=${encodeURIComponent(ui(e.logoURL||e.iconURL||""))}&theme=${encodeURIComponent(e.headerTheme||"")}`;return`https://${Ke.firebase.authDomain}/share/space/thumbnail/${e.key}${r}.png?${n}`}function Ry(e){let{space:o,assetHostname:t}=e,r=vs(o,"public-content"),[n]=E(),[i,a]=he.default.useState(r.iconURL||(r.emoji?`${t}${ys(r.emoji)}`:null));return he.default.useEffect(()=>{if(i)return;let s=192,l=document.createElement("canvas"),u=l.getContext("2d");if(!u)return;l.width=s,l.height=s,u.fillStyle=n.colors.background.main,u.fillRect(0,0,s,s);let d=.7;u.fillStyle=n.colors.text.main,u.font=`400 ${s*d}px gitbook-content-font`,u.textAlign="center",u.fillText(o.title.slice(0,1),s/2,s*(1-d)/2),a(l.toDataURL("image/png"))},[o.title,a]),at(s=>{s.writeAsync([{type:"link",rel:"icon",href:i?ui(i):`${t}/public/images/icon-512.png`}])}),null}c();var W=T(x());X();var Py=L.createResponsiveComponent(pt),rp=200,Ty=4*(rp+f.small);function np(e){let{space:o,collection:t,revision:r}=e,[,n]=E(Y),[,i]=E(Ey),a=W.useMemo(()=>(o==null?void 0:o.footer)||(t==null?void 0:t.footer),[o,t]);return W.createElement(W.Fragment,null,a?W.createElement(Py,{tag:"footer",style:[h.alignCenter,i.footer]},W.createElement(L.View,{desktopStyle:[tt.desktopContainer]},W.createElement(L.View,{desktopStyle:h.directionRow,mobileStyle:h.directionColumn},a!=null&&a.logoURL?W.createElement(L.View,{style:[h.directionRow,h.alignStart,f.Padding.xlargeTop,a!=null&&a.copyright?null:f.Padding.xlargeBottom],desktopStyle:f.Margin.xxlargeHorizontal,mobileStyle:f.Margin.largeHorizontal},W.createElement(L.View,{desktopStyle:"visible",mobileStyle:"hidden"},W.createElement(Kt,{source:{uri:a==null?void 0:a.logoURL},style:tt.footerImageDesktop,loading:"lazy"})),W.createElement(L.View,{desktopStyle:"hidden",mobileStyle:"visible"},W.createElement(y,{style:f.Margin.largeLeft},W.createElement(Kt,{source:{uri:a==null?void 0:a.logoURL},style:tt.footerImageMobile,loading:"lazy"})))):null,a!=null&&a.linkGroups?W.createElement(L.View,{style:[f.Padding.xlargeTop,a.logoURL?h.alignStart:h.alignCenter,h.flex1,a!=null&&a.copyright?null:f.Padding.xlargeBottom],mobileStyle:h.alignStart,tabletStyle:f.Padding.largeLeft},W.createElement(L.View,{mobileStyle:"hidden",tabletStyle:"hidden",desktopStyle:a.linkGroups.length<3&&!a.logoURL?"visible":"hidden"},W.createElement(xy,{linkGroups:a.linkGroups,revision:r})),W.createElement(L.View,{mobileStyle:"visible",tabletStyle:"visible",desktopStyle:a.linkGroups.length>=3||a.logoURL?"visible":"hidden"},W.createElement(ky,{linkGroups:a.linkGroups,revision:r}))):null),a!=null&&a.copyright?W.createElement(L.View,{style:[h.flex1,f.Padding.xlargeVertical]},W.createElement(J,{style:[tt.copyright,n.textMuted]},a==null?void 0:a.copyright)):null)):null)}function xy(e){let{linkGroups:o,revision:t}=e,[,r]=E(Y),n=[],i=o==null?void 0:o.map(({title:a})=>a);return o==null||o.forEach(a=>{var s;(s=a==null?void 0:a.links)==null||s.forEach((l,u)=>{if(n[u]===void 0)return n[u]=[l];n[u].push(l)})}),W.createElement(y,{style:[h.flex1,h.justifyContentStart,h.directionRow]},W.createElement(y,{style:tt.linkGroupColumnDesktop},W.createElement(y,{style:[h.flex1]},i==null?void 0:i.map((a,s)=>W.createElement(y,{key:a,style:[h.alignStart,s>0?f.Margin.smallTop:null]},W.createElement(J,{style:[r.text,r.Heading3]},a))))),n.map((a,s)=>W.createElement(y,{key:s,style:tt.linkGroupColumnDesktop},W.createElement(ip,{links:a,revision:t,renderMode:"horizontal"}))))}function ky(e){let{linkGroups:o,revision:t}=e,[,r]=E(Y);return W.createElement(L.View,{style:[h.flex1,h.justifyContentStart,h.directionRow],desktopStyle:[tt.linkGroupColumnsDesktop,h.directionRow,h.wrap,h.flexShrink1],mobileStyle:h.directionColumn},o.map((n,i)=>W.createElement(L.View,{key:i,desktopStyle:[tt.linkGroupColumnDesktop,f.Margin.xlargeTop],mobileStyle:[tt.linkGroupColumnMobile,f.Margin.xlargeTop,f.Margin.largeLeft]},W.createElement(y,{style:h.alignStart},W.createElement(J,{style:[r.text,r.Heading3]},n.title)),W.createElement(ip,{links:n.links,revision:t,renderMode:"vertical"}))))}function ip(e){let{links:o,renderMode:t}=e,[,r]=E(Y);return W.createElement(L.View,{style:[h.alignStart,h.flex1,h.directionColumn],desktopStyle:t==="vertical"?f.Margin.largeTop:null,mobileStyle:f.Margin.smallTop},(o||[]).map((n,i)=>{let a=i===o.length-1;return n.title?W.createElement(W.Suspense,{fallback:null,key:n.title},W.createElement(y,{style:[tt.referenceLink,t==="horizontal"&&i>0?f.Margin.smallTop:null]},W.createElement(Uo,{title:n.title,contentRef:n.to,style:[r.textMuted,r.Medium,t==="horizontal"?null:[f.Padding.smallTop,a?null:f.Padding.smallBottom]],...e}))):null}))}var Ey=A.create({footer:e=>({backgroundColor:e.colors.background.mid})}),tt=de.create({linkGroupColumnsDesktop:{maxWidth:Ty,marginTop:-f.xlarge},linkGroupColumnDesktop:{width:rp,marginLeft:f.small,paddingRight:f.xlarge},linkGroupColumnMobile:{width:"auto"},desktopContainer:{maxWidth:1280,width:"100%"},copyright:{textAlign:"center"},mobileHeight:{height:"auto"},referenceLink:{maxWidth:"100%"},footerImageDesktop:{maxHeight:150,maxWidth:150,objectFit:"contain"},footerImageMobile:{maxHeight:30,maxWidth:30,objectFit:"contain"}});c();var ke=T(x());c();var rr=T(x());c();function ap(e,o){let{navigate:t}=ht();cc(()=>[Oy(e,o,t)],[e,o,t])}function Oy(e,o,t){return{key:"search.content",commands:r=>{if(!r.query.text)return[];let n=mi.read({query:r.query.text,types:["pages","sections"],hitsPerPage:30,analyticsTags:[{type:"space",space:e.key}]});return Iy(o,n).map(({page:i,result:a,sections:s})=>{let l=i.emoji?wr(Er,{code:i.emoji}):void 0;return[{key:i.key,icon:l,title:i.title,subtitle:is(o,i.key).filter(u=>u.key!==i.key).map(u=>u.title).join(" \u203A "),trigger:()=>{var u;We({type:"palette_open_search_result",index:"pages"}),t({screen:{type:"space",space:o.space,page:xt(o,i.key),hash:a||(u=s[0])==null?void 0:u.anchor,query:void 0}})}},...s.map(u=>({key:u.objectID,icon:l,title:void 0,subtitle:u.title,body:u.body.split(`
`).filter(Boolean).slice(0,5),trigger:()=>{We({type:"palette_open_search_result",index:"sections"}),t({screen:{type:"space",space:o.space,page:xt(o,i.key),hash:u.anchor,query:void 0}})}}))]}).flat().filter(ci)}}}function Iy(e,o){let t=new Map;return o.forEach(r=>{if(r.index!=="pages"&&r.index!=="sections")return null;let n=e.pages[r.object.page];if(!n)return null;let i=t.get(n.key)||{sections:[],score:0};r.index==="sections"?(i.sections.push(r.object),i.score+=1):(i.result=r.object,i.score+=3),t.set(n.key,i)}),Array.from(t.entries()).map(([r,{score:n,sections:i,result:a}])=>{let s=e.pages[r];return s?{page:s,score:n,sections:i,result:a}:null}).filter(ci).sort((r,n)=>n.score-r.score)}function sp(e){let{space:o,revision:t}=e,r=oe(),[,{open:n}]=_t(),i=vr();return ap(o,t),Ar({[Dr.PALETTE_OPEN]:()=>{n()},"/":()=>{n()}},["all"],[]),lc({search:r("search_placeholder"),variants:{color:i.color}}),rr.createElement(rr.Fragment,null,rr.createElement(Oa,null))}c();var Yn=T(x());var ko=new Map;typeof window<"u"&&(window.GitBook=window.GitBook||{addEventListener:(e,o)=>{ko.has(e)||ko.set(e,[]),ko.get(e).push(o)},removeEventListener:(e,o)=>{if(!ko.has(e))return;let t=ko.get(e),r=t.indexOf(o);r!==-1&&t.splice(r,1)}});function cp(e,...o){let t=ko.get(e);!t||t.forEach(r=>{r(...o)})}function lp(e){if(Yn.useContext(mt).mode!=="public-content")throw new Error("useInjectIntegrationsScripts can only be used in public-content mode");Yn.useEffect(()=>(cp("load"),()=>{cp("unload")}),[e.key])}function Kn(e){let{space:o,assetHostname:t,collection:r,collectionSpaces:n,usesCookies:i}=e,{locale:a}=ke.useContext(mt),{screen:s}=Lr(),l=Yc(),u=_c({space:o.key,revision:(s.type==="space"?s.revision:null)||o.revision});if(!u)throw s.type==="space"&&s.revision?new Xa.NotFound("Revision not found"):new Error("Expected revision");Mu(o),lp(o);let d=ke.useMemo(()=>gr(o,{}),[o.key,o.organization,o.collection]);if(s.type!=="space"||s.space!==o.key)throw new Error("screen should be the space we render");ke.useEffect(()=>{if(!!o.searchKey)return Ic(o.searchKey)},[o.searchKey]),at(b=>{b.write({type:"font",font:o.font||"Inter",fontFamilyName:"gitbook-content-font"}),s.revision&&b.write({type:"meta",name:"robots",content:"noindex"}),b.setLang(a)}),_f(o.privacyPolicyURL,_i(o)||i);let[p,m]=Cc(u,s);return ke.createElement(ke.Fragment,null,ke.createElement($f,{space:o,revision:u,collection:r,currentPage:m,collectionSpaces:n}),ke.createElement(op,{space:o,revision:u,screen:s,analyticsContext:d,collection:r,collectionSpaces:n,assetHostname:t,currentPage:m,screenUpdate:p,scrollRef:l}),ke.createElement(np,{space:o,revision:u,collection:r}),ke.createElement(sp,{space:o,revision:u}),ke.createElement(kf,null))}c();var Ha=T(x());c();function nr(e){return e?e.endsWith("/")?e:`${e}/`:""}function up(e){return o=>{let t=`/${nr(e.basePath)}`;switch(o.type){case"back_office":case"account":case"error_notfound":case"org_invite":case"org_join":case"org_settings":case"quickstart":case"root":case"join":case"account_verification":case"integrations":case"import":case"template":case"welcome":case"discover":case"contentkit_builder":throw new Error(`Cannot navigate to ${o.type} on public content`);case"home":{if(o.organization){let n=Lt.read({type:"organization",organization:o.organization});t=Io(n);break}throw new Error("Cannot navigate to home without an org on public content")}case"user":{let n=Lt.read({type:"user",user:o.user});t=Io(n);break}case"collection":{let n=Lt.read({type:"collection",collection:o.collection});t=Io(n);break}case"space":{let n=Lt.read({type:"space",space:o.space});n.hostname===e.hostname&&(!e.basePath||n.pathname.startsWith(e.basePath))?(e.shareLink&&(t+=nr(e.shareLink)),n.pathname!==e.basePath&&(e.basePath?t+=nr(rs(n.pathname,nr(e.basePath))):t+=nr(n.pathname))):t=Io(n),t+=_y(o);break}case"legacy_space":case"legacy_account":throw new Error("Cannot navigate to legacy urls");default:Xt(o)}let r;if(typeof o.query=="string"){let n=new URLSearchParams;n.set("q",o.query),r=`?${n.toString()}`}return{pathname:t,hash:o.hash,search:r}}}function _y(e){let o="";return e.revision&&(o+=`~/revisions/${e.revision}/`),o+=`${e.page[0]==="/"?e.page.slice(1):e.page}`,e.sideSheet&&(o+=`${o[o.length-1]==="/"?"":"/"}~/${e.sideSheet}`),o}c();function dp(e,o,t,r=[]){return n=>{let{spaceKey:i,pathname:a}=ns({currentSpaceKey:o,collectionSpaces:r,collection:t,pathname:n.pathname,paths:e}),s={type:"space",space:i,page:""};Ly(s,ps(a)),n.hash&&(s.hash=n.hash.replace(/^#/,""));let u=new URLSearchParams(n.search).get("q");return typeof u=="string"&&(s.query=u),s}}function Ly(e,o){ms(o,[{path:`/~/revisions/:revision/:page${li}`,onMatch:t=>{Object.assign(e,{page:t.params.page,revision:t.params.revision})}},{path:"/~/revisions/:revision",onMatch:t=>{Object.assign(e,{revision:t.params.revision,page:""})}},{path:`/:page${li}`,onMatch:t=>{Object.assign(e,{page:t.params.page,diff:!1})}},{path:"/",onMatch:t=>{Object.assign(e,{diff:!1,page:""})}}])}function $n(e,o,t,r){let n=Lu(),i=(0,Ha.useMemo)(()=>dp(e,o,t,r),[e.hostname,e.basePath,e.shareLink,o,t,r]),a=(0,Ha.useMemo)(()=>up(e),[e.hostname,e.basePath,e.shareLink]);return{forceHardNavigation:!n,getNavigationScreenFromLocation:i,getLocationForNavigationScreen:a}}function fp(e){let{space:o,ssrRequestPath:t,ssrRouterContext:r,basePath:n,hostname:i,customToken:a,shareLink:s,assetHostname:l,preview:u=!1,usesCookies:d=!1}=e,p=$n({hostname:i,basePath:n,shareLink:s},o.key);return De.createElement(No,{mode:"public-content",preview:u,locale:o.language},De.createElement(Ot,{primaryColor:o.primaryColor},De.createElement(er,null,De.createElement(Vn,{ssrRequestPath:t,ssrRouterContext:r},De.createElement(_r,{persist:!1,...p},De.createElement(De.Suspense,{fallback:De.createElement(dt,{size:"large"})},De.createElement(qr,null,a&&typeof window>"u"?De.createElement(dt,{size:"large"}):De.createElement(Kn,{space:o,assetHostname:l,usesCookies:d}))))))))}c();var Ce=T(x());function pp(e){let{collection:o,basePath:t,hostname:r,customToken:n,collectionSpaces:i,ssrRequestPath:a,ssrRouterContext:s,shareLink:l,assetHostname:u,preview:d=!1,usesCookies:p=!1}=e,m=$n({hostname:r,basePath:t,shareLink:l},void 0,o,i);if(!d&&o.publishingType!=="variants")throw new Error("we do not know how to render anything else than variants for now");return Ce.createElement(No,{mode:"public-content",preview:d,locale:o.language},Ce.createElement(Ot,{primaryColor:o.primaryColor},Ce.createElement(er,null,Ce.createElement(Vn,{ssrRequestPath:a,ssrRouterContext:s},Ce.createElement(_r,{persist:!1,...m},Ce.createElement(Ce.Suspense,{fallback:Ce.createElement(dt,{size:"large"})},Ce.createElement(qr,null,n&&typeof window>"u"?Ce.createElement(dt,{size:"large"}):Ce.createElement(Dy,{collection:o,collectionSpaces:i,assetHostname:u,usesCookies:p}))))))))}function Dy(e){let{screen:o}=Lr();if(o.type!=="space")throw new Error("screen should be a space");let[t]=kc([mr(o.space)]);if(!t)throw new Error("the space should exist");return Ce.createElement(No,{locale:t.language},Ce.createElement(Ot,{primaryColor:t.primaryColor},Ce.createElement(er,null,Ce.createElement(Kn,{...e,space:t}))))}c();var ot=T(x());X();c();var qt=T(x());var Fa=Ve("preview:child");function mp(e,o){let[t,r]=qt.useState(e),[n,i]=qt.useState(void 0);return Ay(t.footer),qt.useEffect(()=>{!o||(window.addEventListener("message",a=>{if(a.data.source!=="gitbook-preview-parent"||(Fa.info("receive message",a.origin,a.data),a.origin!=="http://localhost:5000"&&a.origin!=="http://localhost:5001"&&a.origin!==`https://${Ke.firebase.authDomain}`))return;let s=os(a.data.payload),l=a.data.previewID;Fa.debug("update content with",s),r(s),i(l),window.parent.postMessage({source:"gitbook-preview-child"},"*")}),Fa.info("notify parent that we are ready"),window.parent.postMessage({source:"gitbook-preview-child"},"*"))},[o]),[t,n]}function Ay(e){let o=qt.useRef(e);Yt(()=>{e&&e!==o.current&&window.scrollTo({left:0,top:document.body.scrollHeight,behavior:"smooth"}),o.current=e},[e])}c();var hp=T(x());function gp(){hp.useEffect(()=>{typeof window>"u"},[])}function Ba(e){let o="collection"in e?e.collection:e.space,[t,r]=mp(o,!!e.preview);gp();let n=pr(t);return ot.createElement(bs,null,ot.createElement(nt,{theme:n},ot.createElement(Os,{theme:n},ot.createElement(Vu,null,ot.createElement(yl,{...Vl},ot.createElement(Is,{enabled:!0},"collection"in e?ot.createElement(pp,{...e,collection:t}):ot.createElement(fp,{...e,space:t})),r?ot.createElement(y,{testID:r}):null)))))}c();function yp(e){e!=null&&e.firestore&&pi.fromJS(e.firestore),e!=null&&e.head&&Bs.cache.fromJS(e.head),e!=null&&e.contentURLs&&Lt.fromJS(e.contentURLs),e!=null&&e.contentRefs&&Nc.fromJS(e.contentRefs),e!=null&&e.screenToContentRefs&&Vc.fromJS(e.screenToContentRefs),e!=null&&e.swaggers&&Fc.fromJS(e.swaggers)}c();var vp=T(Ep());function Wa(e){return new Oo("ssr.deserializeFromHTML").wrapSync(()=>{let t=vp.default.decompress(e);return t?JSON.parse(t):null})}c();var bp=Ve("browser-compatibility");function Sp(){let e=["webcache.googleusercontent.com","translate.googleusercontent.com","translate.google.com"];return!window.location.hostname||e.includes(window.location.hostname)?(bp.warning("The application is served over an unsupported hostname and has been made static."),!1):My()?!0:(bp.warning("Your browser is missing required features, the application has been made static."),!1)}function My(){try{if("\u212B".normalize("NFKD")!=="A\u030A")return!1}catch(e){return!1}return!(!window.Intl||![].flat)}c();function wp(e){document.readyState==="interactive"||document.readyState==="complete"?e():document.addEventListener("DOMContentLoaded",()=>{e()})}Sp()&&wp(()=>{Ny()});async function Ny(){let e=new URLSearchParams(window.location.search);if(e.has("jwt_token")){e.delete("jwt_token");let s=e.toString();window.history.replaceState({},"",`${window.location.pathname}${s?`?${s}`:""}`)}let{dsn:o,tracesSampling:t}={...Ke.sentry,...Ke.sentry.publicContent};Za({dsn:o,release:ja,projectId:Ke.firebase.projectId,tracesSampling:t});let r=window.__GITBOOK_INITIAL_PROPS__,n=Wa(r);window.location.hostname!=="localhost"&&hs(n.hostname),xi({customToken:n.customToken,waitUserReady:!1}),window.__GITBOOK_LAZY_MODULES__&&await mc(window.__GITBOOK_LAZY_MODULES__);let i=window.__GITBOOK_INITIAL_STATE__,a=Wa(i);a?(yp(a),ai.registerComponent("PublicContentApplication",()=>Ba),ai.runApplication("PublicContentApplication",{hydrate:!0,rootTag:document.querySelector(".gitbook-root"),initialProps:n})):console.error("Invalid state received from server, content won't be interactive")}
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
//# sourceMappingURL=https://app.gitbook.com/public/app/public-EC2S3UGU.min.js.map
